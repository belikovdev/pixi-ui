{"version":3,"file":"pixi-ui.mjs","sources":["../src/ButtonEvents.ts","../src/Button.ts","../src/utils/helpers/view.ts","../src/Switcher.ts","../src/utils/helpers/cleanup.ts","../src/CheckBox.ts","../src/CircularProgressBar.ts","../src/utils/helpers/fit.ts","../src/utils/helpers/text.ts","../src/FancyButton.ts","../src/List.ts","../src/utils/trackpad/Spring.ts","../src/utils/trackpad/ScrollSpring.ts","../src/utils/trackpad/SlidingNumber.ts","../src/utils/trackpad/Trackpad.ts","../src/ScrollBox.ts","../src/Dialog.ts","../src/ProgressBar.ts","../src/SliderBase.ts","../src/DoubleSlider.ts","../src/Input.ts","../src/MaskedFrame.ts","../src/RadioGroup.ts","../src/Select.ts","../src/Slider.ts"],"sourcesContent":["import { Container, FederatedPointerEvent, isMobile } from 'pixi.js';\nimport { Signal } from 'typed-signals';\n\n/** Events controller used for {@link Button}. */\nexport class ButtonEvents\n{\n    protected _isMouseIn = false;\n    protected _isDown = false;\n\n    /** Event that is fired when the button is down. */\n    onDown: Signal<(btn?: this, e?: FederatedPointerEvent) => void>;\n    /**\n     * Event that fired when a down event happened inside the button\n     * and up event happened inside or outside of the button\n     */\n    onUp: Signal<(btn?: this, e?: FederatedPointerEvent) => void>;\n    /**\n     * Event that fired when mouse up event happens outside of the button\n     * after the down event happened inside the button boundaries.\n     */\n    onUpOut: Signal<(btn?: this, e?: FederatedPointerEvent) => void>;\n    /** Event that fired when the mouse is out of the view */\n    onOut: Signal<(btn?: this, e?: FederatedPointerEvent) => void>;\n    /** Event that is fired when the button is pressed. */\n    onPress: Signal<(btn?: this, e?: FederatedPointerEvent) => void>;\n    /** Event that is fired when the mouse hovers the button. Fired only if device is not mobile.*/\n    onHover: Signal<(btn?: this, e?: FederatedPointerEvent) => void>;\n\n    constructor()\n    {\n        this.onPress = new Signal();\n        this.onDown = new Signal();\n        this.onUp = new Signal();\n        this.onHover = new Signal();\n        this.onOut = new Signal();\n        this.onUpOut = new Signal();\n    }\n\n    protected connectEvents(view: Container)\n    {\n        if (isMobile.any)\n        {\n            view.on('pointerdown', this.processDown, this);\n            view.on('pointerup', this.processUp, this);\n            view.on('pointerupoutside', this.processUpOut, this);\n            view.on('pointerout', this.processOut, this);\n            view.on('pointertap', this.processPress, this);\n            view.on('pointerover', this.processOver, this);\n        }\n        else\n        {\n            view.on('mousedown', this.processDown, this);\n            view.on('mouseup', this.processUp, this);\n            view.on('mouseupoutside', this.processUpOut, this);\n            view.on('mouseout', this.processOut, this);\n            view.on('click', this.processPress, this);\n            view.on('mouseover', this.processOver, this);\n        }\n    }\n\n    protected disconnectEvents(view: Container)\n    {\n        if (isMobile.any)\n        {\n            view.off('pointerdown', this.processDown, this);\n            view.off('pointerup', this.processUp, this);\n            view.off('pointerupoutside', this.processUpOut, this);\n            view.off('pointerout', this.processOut, this);\n            view.off('pointertap', this.processPress, this);\n            view.off('pointerover', this.processOver, this);\n        }\n        else\n        {\n            view.off('mousedown', this.processDown, this);\n            view.off('mouseup', this.processUp, this);\n            view.off('mouseupoutside', this.processUpOut, this);\n            view.off('mouseout', this.processOut, this);\n            view.off('click', this.processPress, this);\n            view.off('mouseover', this.processOver, this);\n        }\n    }\n\n    protected processDown(e: FederatedPointerEvent): void\n    {\n        this._isDown = true;\n        this.onDown.emit(this, e);\n        this.down(e);\n    }\n\n    protected processUp(e?: FederatedPointerEvent)\n    {\n        if (this._isDown)\n        {\n            this.onUp.emit(this, e);\n            this.up(e);\n        }\n\n        this._isDown = false;\n    }\n\n    protected processUpOut(e?: FederatedPointerEvent)\n    {\n        if (this._isDown)\n        {\n            this.onUp.emit(this, e);\n            this.onUpOut.emit(this, e);\n            this.up(e);\n            this.upOut(e);\n        }\n\n        this._isDown = false;\n    }\n\n    protected processOut(e?: FederatedPointerEvent)\n    {\n        if (this._isMouseIn)\n        {\n            this._isMouseIn = false;\n            this.onOut.emit(this, e);\n            this.out(e);\n        }\n    }\n\n    protected processPress(e: FederatedPointerEvent)\n    {\n        this._isDown = false;\n        this.onPress.emit(this, e);\n        this.press(e);\n    }\n\n    protected processOver(e: FederatedPointerEvent)\n    {\n        if (isMobile.any) return;\n\n        this._isMouseIn = true;\n        this.onHover.emit(this, e);\n        this.hover(e);\n    }\n\n    /**\n     * Method called when the button pressed.\n     * To be overridden.\n     * @param {FederatedPointerEvent} _e - event data\n     */\n    down(_e?: FederatedPointerEvent)\n    {\n        // override me!\n    }\n\n    /**\n     * Method called when the button is up.\n     * To be overridden.\n     * @param {FederatedPointerEvent} _e - event data\n     */\n    up(_e?: FederatedPointerEvent)\n    {\n        // override me!\n    }\n\n    /**\n     * Method called when the up event happens outside of the button,\n     * after the down event happened inside the button boundaries.\n     * To be overridden.\n     * @param {FederatedPointerEvent} _e - event data\n     */\n    upOut(_e?: FederatedPointerEvent)\n    {\n        // override me!\n    }\n\n    /**\n     * Method called when the mouse leaves the button.\n     * To be overridden.\n     * @param {FederatedPointerEvent} _e - event data\n     */\n    out(_e?: FederatedPointerEvent)\n    {\n        // override me!\n    }\n\n    /**\n     * Method called when the mouse press down the button.\n     * To be overridden.\n     * @param {FederatedPointerEvent} _e - event data\n     */\n    press(_e?: FederatedPointerEvent)\n    {\n        // override me!\n    }\n\n    /**\n     * Method called when the mouse hovers the button.\n     * To be overridden.\n     * Fired only if device is not mobile.\n     * @param {FederatedPointerEvent} _e - event data\n     */\n    hover(_e?: FederatedPointerEvent)\n    {\n        // override me!\n    }\n\n    /** Getter that returns if the button is down. */\n    get isDown(): boolean\n    {\n        return this._isDown;\n    }\n}\n","import { Container, FederatedPointerEvent } from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { ButtonEvents } from './ButtonEvents';\n\n/**\n * Adds button events to a given container-based view\n *\n * so you can subscribe to them and use your container-based instance as a button.\n * @example\n * const container = new Container();\n * const button = new Button(\n *      new Graphics()\n *          .rect(0, 0, 100, 50, 15)\n *          .fill(0xFFFFFF)\n * );\n *\n * button.onPress.connect(() => console.log('onPress'));\n *\n * container.addChild(button.view);\n */\nexport class Button extends ButtonEvents\n{\n    /** Container, given as a constructor parameter that is a button view. */\n    protected _view: Container | undefined;\n\n    /**\n     * Turns a given container-based view into a button by adding all button events.\n     * @param {Container} view - instance of container, to be turned into button.\n     */\n    constructor(view?: Container)\n    {\n        super();\n\n        if (view)\n        {\n            this.view = view;\n            this.enabled = true;\n        }\n    }\n\n    /** Set button view, that all the interaction events are applied to. */\n    set view(view: Container)\n    {\n        const wasItInitiated = !!this._view;\n\n        if (wasItInitiated && this._view) this.disconnectEvents(this._view);\n\n        this._view = view;\n        this.connectEvents(this._view);\n    }\n\n    /** Get button view, that all the interaction events are applied to. */\n    get view(): Container | undefined\n    {\n        return this._view;\n    }\n\n    /**\n     * Switcher, which prevents all button events from firing if off.\n     * @param {boolean} enabled\n     */\n    set enabled(enabled: boolean)\n    {\n        if (!this.view)\n        {\n            console.error('Button view is not set. Please set it before enabling the button.');\n\n            return;\n        }\n\n        this.view.eventMode = enabled ? 'static' : 'auto';\n        this.view.cursor = enabled ? 'pointer' : 'default';\n\n        if (!enabled && this.isDown)\n        {\n            this.processUp();\n        }\n    }\n\n    /** Getter that returns button state. */\n    get enabled(): boolean\n    {\n        return this.view?.eventMode === 'static';\n    }\n}\n\n/**\n * Button based on container. You can use it same {@link Button}\n * but without need to pre create a container and interact with it through `.view` accessor.\n * @example\n * const button = new ButtonContainer(\n *      new Graphics()\n *          .fill(0xFFFFFF)\n *          .roundRect(0, 0, 100, 50, 15)\n * );\n *\n * button.onPress.connect(() => console.log('onPress'));\n *\n * container.addChild(button);\n */\nexport class ButtonContainer extends Container\n{\n    button: Button;\n\n    onDown: Signal<(btn?: Button, e?: FederatedPointerEvent) => void>;\n    onUp: Signal<(btn?: Button, e?: FederatedPointerEvent) => void>;\n    onUpOut: Signal<(btn?: Button, e?: FederatedPointerEvent) => void>;\n    onOut: Signal<(btn?: Button, e?: FederatedPointerEvent) => void>;\n    onPress: Signal<(btn?: Button, e?: FederatedPointerEvent) => void>;\n    onHover: Signal<(btn?: Button, e?: FederatedPointerEvent) => void>;\n\n    constructor(view?: Container)\n    {\n        super();\n\n        this.button = new Button(this);\n\n        this.button.enabled = true;\n\n        if (view)\n        {\n            this.addChild(view);\n        }\n\n        this.onPress = this.button.onPress;\n        this.onDown = this.button.onDown;\n        this.onUp = this.button.onUp;\n        this.onHover = this.button.onHover;\n        this.onOut = this.button.onOut;\n        this.onUpOut = this.button.onUpOut;\n    }\n\n    set enabled(enabled: boolean)\n    {\n        this.button.enabled = enabled;\n    }\n\n    get enabled(): boolean\n    {\n        return this.button.enabled;\n    }\n}\n","import { Container, Graphics, Sprite, Texture } from 'pixi.js';\n\nexport type GetViewSettings = string | Texture | Container | Sprite | Graphics;\n\nexport function getView(view: GetViewSettings): Container | Sprite | Graphics\n{\n    if (typeof view === 'string')\n    {\n        return Sprite.from(view);\n    }\n\n    if (view instanceof Texture)\n    {\n        return new Sprite(view);\n    }\n\n    return view;\n}\n","import { Container } from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { getView, type GetViewSettings } from './utils/helpers/view';\nimport { ButtonEvent } from './utils/HelpTypes';\n\n/**\n * Container based component that switches visibility of a given containers by any of the interaction events.\n *\n * By default it switches on press.\n *\n * Can be used for creating buttons, tabs, radio buttons, checkboxes etc.\n * @example\n * // switch on onPress\n * const switch = new Swich([`switch_off.png`, `switch_on.png`]);\n *\n * // switch on hover\n * const button = new Swich([`button_default.png`, `button_hover.png`], ['onHover', 'onOut']);\n *\n * button.events.onPress.connect(() => console.log('button pressed'));\n */\nexport class Switcher extends Container\n{\n    protected _triggerEvents: Set<ButtonEvent> = new Set(['onPress']);\n\n    /** Container that holds all the content of the component. */\n    innerView: Container;\n\n    /** The id of the visible(active) view. */\n    protected _active: number | undefined;\n\n    /** Fired when active view changes. */\n    onChange: Signal<(state: number | boolean) => void>;\n\n    /**\n     * @param {Array<Container | string>} views - Array of views or textures that will be switching.\n     * @param triggerEvents - Button events, to switch views (can be one event or an array of events).\n     * @param activeViewID - The id of the view, visible by default.\n     */\n    constructor(\n        views?: Array<Container | string>,\n        triggerEvents?: ButtonEvent | ButtonEvent[],\n        activeViewID?: number,\n    )\n    {\n        super();\n\n        this.innerView = new Container();\n        this.addChild(this.innerView);\n\n        this.onChange = new Signal();\n\n        if (views) this.views = views;\n        if (triggerEvents) this.triggerEvents = triggerEvents;\n        if (activeViewID !== undefined && this.views.length > 0) this.active = activeViewID;\n\n        this.setInteractionEvents();\n    }\n\n    protected setInteractionEvents()\n    {\n        this.innerView.eventMode = 'static';\n\n        this.innerView.on('pointerdown', () => this.handleEvents('onDown'));\n        this.innerView.on('pointerup', () => this.handleEvents('onUp'));\n        this.innerView.on('pointerupoutside', () => this.handleEvents('onUpOut'));\n        this.innerView.on('pointerout', () => this.handleEvents('onOut'));\n        this.innerView.on('pointertap', () => this.handleEvents('onPress'));\n        this.innerView.on('pointerover', () => this.handleEvents('onHover'));\n    }\n\n    protected handleEvents(event: ButtonEvent)\n    {\n        if (this._triggerEvents.has(event))\n        {\n            this.switch();\n        }\n    }\n\n    /** Returns the active view. */\n    get activeView(): Container | undefined\n    {\n        if (this.views && this.active !== undefined && this.views[this.active])\n        {\n            return this.views[this.active] as Container;\n        }\n\n        return undefined;\n    }\n\n    /** Sets the list of instances for switching. */\n    set views(views: Array<Container | string>)\n    {\n        this.innerView.removeChildren();\n        views.forEach((stateView) => this.add(stateView));\n    }\n\n    /** Returns all the switchable views */\n    get views(): Array<Container>\n    {\n        return this.innerView.children as Array<Container>;\n    }\n\n    /**\n     * Adds view instance to a switching list.\n     * @param view\n     */\n    add(view: GetViewSettings): void\n    {\n        const viewInstance = getView(view);\n\n        this.innerView.addChild(viewInstance);\n\n        viewInstance.visible = false;\n\n        if (this.views.length === 1)\n        {\n            this.active = 0;\n        }\n    }\n\n    /**\n     * Removes view instance from a switching list by id.\n     * @param id - id of the view to remove.\n     */\n    remove(id: number)\n    {\n        if (this.views[id])\n        {\n            this.innerView.removeChild(this.views[id]);\n        }\n    }\n\n    /**\n     * Sets a list of events that will make a switcher switch to the next view.\n     * @param {ButtonEvent | ButtonEvent[]} triggerEvents - Button events,\n     * to switch views (can be one event or an array of events).\n     */\n    set triggerEvents(triggerEvents: ButtonEvent | ButtonEvent[])\n    {\n        this._triggerEvents = new Set(\n            Array.isArray(triggerEvents) ? triggerEvents : [triggerEvents],\n        );\n    }\n\n    /** Returns a list of events that will make a switcher switch to the next view. */\n    get triggerEvents(): ButtonEvent[]\n    {\n        return Array.from(this._triggerEvents);\n    }\n\n    /**\n     * Show a view by id, or to next one by order, if no ID provided.\n     * @param {number} id - optional id of the view to show. If not set, will switch to the next view.\n     */\n    switch(id?: number)\n    {\n        if (id !== undefined && id === this.active) return;\n\n        const exID = this.active;\n\n        this.forceSwitch(id);\n\n        if (exID !== this.active)\n        {\n            const res = this.views.length > 2 ? (this.active ?? 0) : (this.active === 1);\n\n            this.onChange.emit(res);\n        }\n    }\n\n    /**\n     * Switches a view to a given one without triggering the onChange event.\n     * @param {number} id - optional id of the view to show. If not set, will switch to the next view.\n     */\n    forceSwitch(id?: number)\n    {\n        if (id !== undefined && id === this.active) return;\n\n        if (this.activeView)\n        {\n            this.activeView.visible = false;\n        }\n\n        if (id !== undefined && !this.views[id])\n        {\n            throw new Error(`View with id ${id} does not exist.`);\n        }\n\n        this._active = id === undefined ? this.nextActive : id;\n\n        if (this._active === undefined)\n        {\n            return;\n        }\n\n        this.views[this._active].visible = true;\n    }\n\n    /** Returns the id of the next view in order. Or undefined, if order is empty. */\n    protected get nextActive(): number | undefined\n    {\n        if (this.views.length === 0) return undefined;\n\n        if (this.active === undefined) return 0;\n\n        return this.active < this.views.length - 1 ? this.active + 1 : 0;\n    }\n\n    /** Sets the id of the visible(active) view and shows to it. */\n    set active(id: number)\n    {\n        this.switch(id);\n    }\n\n    /** Gets the id of the visible(active) view. */\n    get active(): number | undefined\n    {\n        return this._active;\n    }\n}\n","import { Container } from 'pixi.js';\n\nexport function cleanup(element: Container)\n{\n    if (!element) return;\n\n    if (element.parent)\n    {\n        element.parent.removeChild(element);\n    }\n\n    element.destroy();\n}\n","import { Text } from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { Switcher } from './Switcher';\nimport { cleanup } from './utils/helpers/cleanup';\nimport { PixiText, PixiTextClass, PixiTextStyle } from './utils/helpers/text';\nimport { getView, type GetViewSettings } from './utils/helpers/view';\n\ntype CheckBoxStyle = {\n    checked: GetViewSettings;\n    unchecked: GetViewSettings;\n    text?: PixiTextStyle;\n    textOffset?: {\n        x?: number;\n        y?: number;\n    };\n};\n\nexport type CheckBoxOptions = {\n    style: CheckBoxStyle;\n    text?: string;\n    TextClass?: PixiTextClass;\n    checked?: boolean;\n};\n\n/**\n * Creates a container-based checkbox element.\n * @example\n *  new CheckBox({\n *     style: {\n *         unchecked: `switch_off.png`,\n *         checked: `switch_on.png`,\n *     }\n *  });\n */\nexport class CheckBox extends Switcher\n{\n    //* Text label */\n    labelText: PixiText | undefined;\n\n    /** Signal emitted when checkbox state changes. */\n    onCheck: Signal<(state: boolean) => void>;\n\n    protected _style: CheckBoxStyle | undefined;\n    protected _textClass: PixiTextClass;\n\n    constructor(options: CheckBoxOptions)\n    {\n        super();\n\n        this._textClass = options.TextClass ?? Text;\n        this.text = options.text ?? '';\n\n        this.style = options.style;\n\n        this.checked = options.checked ?? false;\n\n        this.triggerEvents = ['onPress'];\n\n        this.innerView.cursor = 'pointer';\n\n        this.onCheck = new Signal();\n\n        this.onChange.connect(() => this.onCheck.emit(this.checked));\n    }\n\n    protected addLabel(text?: string, style?: PixiTextStyle)\n    {\n        if (!text) return;\n\n        this.labelText = new this._textClass({\n            text: text ?? '',\n            style: style ?? this._style?.text,\n        });\n        this.addChild(this.labelText);\n\n        this.labelText.cursor = 'pointer';\n        this.labelText.eventMode = 'static';\n        this.labelText.on('pointertap', () => (this.checked = !this.checked));\n\n        this.alignText();\n    }\n\n    /** Setter, which sets a checkbox text. */\n    set text(text: string)\n    {\n        if (!text)\n        {\n            if (this.labelText)\n            {\n                cleanup(this.labelText);\n                this.labelText = undefined;\n            }\n\n            return;\n        }\n\n        if (this.labelText)\n        {\n            this.labelText.text = text;\n        }\n        else\n        {\n            this.addLabel(text);\n        }\n\n        this.alignText();\n    }\n\n    /** Getter, which returns a checkbox text. */\n    get text(): string | ''\n    {\n        return this.labelText?.text ?? '';\n    }\n\n    /** Setter, which sets a checkbox style settings. */\n    set style(style: CheckBoxStyle)\n    {\n        // Preserve checked state for the end of the method\n        const wasChecked = this.checked;\n\n        this._style = style;\n\n        const { unchecked, checked } = style;\n\n        const uncheckedView = getView(unchecked);\n        const checkedView = getView(checked);\n\n        this.views = [uncheckedView, checkedView];\n\n        // Set initial view visibility based on checked state\n        if (wasChecked)\n        {\n            checkedView.visible = true;\n            uncheckedView.visible = false;\n            this.active = 1;\n        }\n        else\n        {\n            uncheckedView.visible = true;\n            checkedView.visible = false;\n            this.active = 0;\n        }\n\n        // Update text style if text exists and style has text configuration\n        if (this.labelText && style.text)\n        {\n            this.labelText.style = style.text;\n            this.alignText();\n        }\n    }\n\n    /** Getter, which returns a checkbox style settings. */\n    get style(): CheckBoxStyle | undefined\n    {\n        return this._style;\n    }\n\n    /**\n     * Aligns the text label based on the checkbox style.\n     * This method calculates the position of the text label based on the checkbox's unchecked view dimensions\n     * and applies any specified text offsets.\n     * It ensures that the text label is centered vertically and positioned to the right of the checkbox\n     * with an optional offset.\n     * This method is called after the checkbox style is set or when the text label is updated\n     * to ensure that the text label is always correctly positioned relative to the checkbox.\n     * @see {@link CheckBoxStyle.textOffset} for offset options.\n     * @see {@link getView} for how views are created.\n     */\n    protected alignText()\n    {\n        if (!this.style) return;\n        if (!this.labelText) return;\n        if (!this.views) return;\n\n        const uncheckedView = this.views[0];\n\n        if (uncheckedView)\n        {\n            this.labelText.x = uncheckedView.width + 10 + (this._style?.textOffset?.x ?? 0);\n            this.labelText.y\n                = ((uncheckedView.height - this.labelText.height) / 2) + (this._style?.textOffset?.y ?? 0);\n        }\n    }\n\n    /** Getter, which returns a checkbox state. */\n    get checked(): boolean\n    {\n        return this.active === 1;\n    }\n\n    /** Setter, which sets a checkbox state. */\n    set checked(checked: boolean)\n    {\n        this.switch(checked ? 1 : 0);\n    }\n\n    /**\n     * Setter, that sets a checkbox state without emitting a signal.\n     * @param checked\n     */\n    forceCheck(checked: boolean)\n    {\n        this.forceSwitch(checked ? 1 : 0);\n    }\n}\n","import { ColorSource, Container, DEG_TO_RAD, Graphics, LineCap } from 'pixi.js';\n\nexport type MaskedProgressBarOptions = {\n    backgroundColor?: ColorSource;\n    fillColor?: ColorSource;\n    lineWidth?: number;\n    radius?: number;\n    value?: number;\n    backgroundAlpha?: number;\n    fillAlpha?: number;\n    cap?: LineCap;\n};\n\n/**\n * Creates a Circular ProgressBar.\n * @example\n * const progressBar = new CircularProgressBar({\n *    backgroundColor: 0x000000,\n *    backgroundAlpha: 0.5,\n *    lineWidth: 10,\n *    fillColor: 0xFFFFFF,\n *    radius: 50,\n *    value: 50,\n *    cap: 'round'\n * });\n *\n * progressBar.progress = 100;\n */\nexport class CircularProgressBar extends Container\n{\n    private _progress = 0;\n    private options: MaskedProgressBarOptions = {};\n\n    private bgCircle = new Graphics();\n    private fillCircle = new Graphics();\n\n    /** Container, that holds all inner views. */\n    innerView = new Container();\n\n    /**\n     * Creates a Circular ProgressBar.\n     * @param { MaskedProgressBarOptions } options - Options object to use.\n     * @param { ColorSource } options.backgroundColor - Background color.\n     * @param { ColorSource } options.fillColor - Fill color.\n     * @param { number } options.lineWidth - Line width.\n     * @param { number } options.radius - Radius.\n     * @param { number } options.value - Progress value.\n     * @param { number } options.backgroundAlpha - Background alpha.\n     * @param { number } options.fillAlpha - Fill alpha.\n     * @param { 'butt' | 'round' | 'square' } options.cap - Line cap.\n     */\n    constructor(options?: MaskedProgressBarOptions)\n    {\n        super();\n\n        this.options = options ?? {};\n\n        this.addChild(this.innerView);\n\n        this.innerView.addChild(this.bgCircle, this.fillCircle);\n\n        this.addBackground();\n\n        if (options?.value)\n        {\n            this.progress = options.value;\n        }\n    }\n\n    private addBackground()\n    {\n        const { backgroundColor, lineWidth = 5, radius = 50, backgroundAlpha } = this.options;\n\n        // Set alpha based on background configuration\n        let alpha = 1;\n\n        if (backgroundColor === undefined)\n        {\n            alpha = 0.000001;\n        }\n        else if (backgroundAlpha !== undefined && backgroundAlpha > 0)\n        {\n            alpha = backgroundAlpha;\n        }\n\n        this.bgCircle.circle(0, 0, radius).stroke({\n            width: lineWidth,\n            color: backgroundColor,\n            alpha,\n        });\n    }\n\n    /**\n     * Set progress value.\n     * @param { number } value - Progress value.\n     */\n    set progress(value: number)\n    {\n        if (value > 100)\n        {\n            value = 100;\n        }\n\n        if (value < 0)\n        {\n            value = 0;\n        }\n\n        this._progress = value;\n\n        const { lineWidth = 5, radius = 50, fillColor = 0xffffff, fillAlpha, cap } = this.options;\n\n        if (value === 0 && fillAlpha === 0)\n        {\n            this.fillCircle.clear();\n\n            return;\n        }\n\n        const startAngle = 0;\n        const endAngle = (360 / 100) * value;\n\n        this.fillCircle\n            .clear()\n            .arc(\n                0,\n                0,\n                radius,\n                (0 - 90 + startAngle) * DEG_TO_RAD,\n                (0 - 90 + startAngle + endAngle) * DEG_TO_RAD,\n            )\n            .stroke({\n                width: lineWidth,\n                color: fillColor,\n                cap,\n                alpha: fillAlpha,\n            });\n    }\n\n    /**\n     * Current progress value.\n     * @returns { number } - Progress value.\n     */\n    get progress(): number\n    {\n        return this._progress;\n    }\n}\n","import { Container } from 'pixi.js';\n\nexport function fitToView(parent: Container, child: Container, padding = 0, uniformScaling = true)\n{\n    let scaleX = child.scale.x;\n    let scaleY = child.scale.y;\n\n    if (!parent)\n    {\n        throw new Error('Parent is not defined');\n    }\n\n    const maxWidth = parent.width - (padding * 2);\n    const maxHeight = parent.height - (padding * 2);\n\n    const widthOverflow = maxWidth - Math.round(child.width);\n    const heightOverflow = maxHeight - Math.round(child.height);\n\n    if (widthOverflow < 0)\n    {\n        scaleX = maxWidth / (child.width / scaleX);\n    }\n\n    if (heightOverflow < 0)\n    {\n        scaleY = maxHeight / (child.height / scaleY);\n    }\n\n    if (scaleX <= 0 || scaleY <= 0)\n    {\n        child.scale.set(0);\n\n        return;\n    }\n\n    if (uniformScaling || child.scale.x === child.scale.y)\n    {\n        const scale = Math.min(scaleX, scaleY);\n\n        child.scale.set(scale, scale);\n    }\n    else\n    {\n        const ratio = child.scale.x / child.scale.y;\n\n        if (widthOverflow < heightOverflow)\n        {\n            child.scale.set(scaleX, scaleX / ratio);\n        }\n        else\n        {\n            child.scale.set(scaleY * ratio, scaleY);\n        }\n    }\n}\n","import { AbstractText, AnyTextStyle, AnyTextStyleOptions, Text } from 'pixi.js';\n\nexport type PixiText = AbstractText;\nexport type AnyText = string | number | PixiText;\nexport type PixiTextClass = new ({\n    text,\n    style,\n}: {\n    text: string;\n    style?: PixiTextStyle;\n    [x: string]: any;\n}) => PixiText;\nexport type PixiTextStyle = AnyTextStyle | Partial<AnyTextStyleOptions>;\n\nexport function getTextView(text: AnyText): PixiText\n{\n    if (typeof text === 'string' || typeof text === 'number')\n    {\n        return new Text({ text: String(text) });\n    }\n\n    return text;\n}\n","/* eslint-disable max-len */\nimport {\n    Container,\n    isMobile,\n    NineSliceSprite,\n    ObservablePoint,\n    Rectangle,\n    Texture,\n    Ticker,\n} from 'pixi.js';\nimport { Group, Tween } from 'tweedle.js';\nimport { ButtonContainer } from './Button';\nimport { fitToView } from './utils/helpers/fit';\nimport { AnyText, getTextView, PixiText } from './utils/helpers/text';\nimport { getView, type GetViewSettings } from './utils/helpers/view';\n\nimport type { Optional, Size, Sprite } from 'pixi.js';\n\ntype State = 'default' | 'hover' | 'pressed' | 'disabled';\ntype Pos = { x?: number; y?: number };\ntype PosList = { [K in State]?: Pos };\n\nexport type Offset = Pos & PosList;\n\ntype ButtonViewType = 'defaultView' | 'hoverView' | 'pressedView' | 'disabledView';\n\ntype BasicButtonViews = {\n    [K in ButtonViewType]?: Container | NineSliceSprite;\n};\n\ntype ButtonViews = BasicButtonViews & {\n    textView?: PixiText;\n    iconView?: Container;\n};\n\ntype AnimationData = {\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    scale?: Pos;\n};\n\ntype Animation = {\n    props: AnimationData;\n    duration?: number;\n};\n\ntype StateAnimations = {\n    [K in State]?: Animation;\n};\n\ntype BasicViewsInput = {\n    [K in ButtonViewType]?: GetViewSettings;\n};\n\ntype ViewsInput = BasicViewsInput & {\n    text?: AnyText;\n    icon?: GetViewSettings;\n};\n\nexport type ContentFittingMode =\n    // Fits the text/icon content inside the button.\n    | 'default'\n    // Fill the button with the text/icon content, scaling it up to fill the view space with padding accounted for.\n    | 'fill'\n    // Only apply the default scaling and anchoring, without constraining to the button view's dimensions.\n    | 'none';\n\nexport type ButtonOptions = ViewsInput & {\n    padding?: number;\n    scale?: number;\n    anchor?: number;\n    anchorX?: number;\n    anchorY?: number;\n    offset?: Offset;\n    textOffset?: Offset;\n    iconOffset?: Offset;\n    defaultTextScale?: Pos | number;\n    defaultIconScale?: Pos | number;\n    defaultTextAnchor?: Pos | number;\n    defaultIconAnchor?: Pos | number;\n    animations?: StateAnimations;\n    nineSliceSprite?: [number, number, number, number];\n    contentFittingMode?: ContentFittingMode;\n\n    /** @deprecated refer to contentFittingMode instead */\n    ignoreRefitting?: boolean;\n};\n\n/**\n * Button component with a lot of tweaks.\n *\n * All views, text, icon and animations are optional. You can set them via constructor or update later.\n *\n * By default text view and icon view are centered in the active view.\n *\n * Offset property of the constructor can be used to adjust the position of the text, icon and the views.\n * @example\n * const button = new FancyButton({\n *     defaultView: `button.png`,\n *     hoverView: `button_hover.png`,\n *     pressedView: `button_pressed.png`,\n *     text: 'Click me!',\n *     animations: {\n *          hover: {\n *              props: {\n *                  scale: {\n *                      x: 1.1,\n *                      y: 1.1,\n *                  }\n *              },\n *              duration: 100,\n *          },\n *          pressed: {\n *              props: {\n *                  scale: {\n *                      x: 0.9,\n *                      y: 0.9,\n *                  }\n *              },\n *              duration: 100,\n *          }\n *      }\n * });\n *\n * button.onPress.connect(() => console.log('Button pressed!'));\n */\nexport class FancyButton extends ButtonContainer\n{\n    protected animations!: StateAnimations;\n    protected originalInnerViewState!: AnimationData;\n    protected defaultDuration = 100;\n\n    /** FancyButton options. */\n    protected readonly options: ButtonOptions;\n\n    /** Padding of the button text view. If button text does not fit active view + padding it will scale down to fit. */\n    _padding: number = 0;\n\n    /** Offset of the button state views. If state views have different sizes, this option can help adjust them. */\n    _offset: Offset & Pos = {};\n\n    /** Offset of the text view. Can be set to any state of the button. */\n    _textOffset: Offset = {};\n\n    /** Offset of the icon view. Can be set to any state of the button. */\n    iconOffset: Offset = {};\n\n    //* View that holds all button inner views */\n    innerView = new Container();\n\n    protected _views: ButtonViews = {};\n\n    /** State of the button. Possible valuers are: 'default', 'hover', 'pressed', 'disabled' */\n    state: State = 'default';\n\n    /** Anchor point of the button. */\n    anchor: ObservablePoint;\n\n    /** Base text scaling to take into account when fitting inside the button */\n    protected _defaultTextScale: Pos = { x: 1, y: 1 };\n\n    /** Base icon scaling to take into account when fitting inside the button */\n    protected _defaultIconScale: Pos = { x: 1, y: 1 };\n\n    /** Base text anchor to take into account when fitting and placing inside the button */\n    protected _defaultTextAnchor: Pos = { x: 0.5, y: 0.5 };\n\n    /** Base icon anchor to take into account when fitting and placing inside the button */\n    protected _defaultIconAnchor: Pos = { x: 0.5, y: 0.5 };\n\n    /**\n     * Creates a button with a lot of tweaks.\n     * @param {object} options - Button options.\n     * @param { string | Texture | Container | Sprite | Graphics } options.defaultView - Container-based view that is shown when non of the button events are active.\n     *                                                                                   <br> Can be a string (name of texture) or an instance of Texture, Container, Sprite or Graphics.\n     *                                                                                   <br> If you want to use NineSliceSprite, you have to pass a text (name of texture) or an instance of Texture as a parameter here.\n     * @param { string | Texture | Container | Sprite | Graphics } options.hoverView - Container-based view that is shown when the mouse hovers over the button.\n     *                                                                                   <br> Can be a string (name of texture) or an instance of Texture, Container, Sprite or Graphics.\n     *                                                                                   <br> If you want to use NineSliceSprite, you have to pass a text (name of texture) or an instance of Texture as a parameter here.\n     * @param { string | Texture | Container | Sprite | Graphics } options.pressedView - Container-based view, shown when the mouse press on the component.\n     *                                                                                   <br> Can be a string (name of texture) or an instance of Texture, Container, Sprite or Graphics.\n     *                                                                                   <br> If you want to use NineSliceSprite, you have to pass a text (name of texture) or an instance of Texture as a parameter here.\n     * @param { string | Texture | Container | Sprite | Graphics } options.disabledView - Container-based view shown when the button is disabled.\n     *                                                                                   <br> Can be a string (name of texture) or an instance of Texture, Container, Sprite or Graphics.\n     *                                                                                   <br> If you want to use NineSliceSprite, you have to pass a text (name of texture) or an instance of Texture as a parameter here.\n     * @param { string | Texture | Container | Sprite | Graphics } options.icon - Container-based view for the button icon.\n     * @param {Text} options.text - Text-based view for the button text.\n     * @param {number} options.padding - Padding of the button text and icon views.\n     * If button text or icon does not fit active view + padding it will scale down to fit.\n     * @param {Point} options.offset - Offset of the button state views.\n     * @param {Point} options.textOffset - Offset of the text view.\n     * @param {Point} options.iconOffset - Offset of the icon view.\n     * @param {number} options.scale - Scale of the button. Scale will be applied to a main container,\n     * when all animations scales will be applied to the inner view.\n     * @param {number} options.defaultTextScale - Base text scaling to take into account when fitting inside the button.\n     * @param {number} options.defaultIconScale - Base icon scaling to take into account when fitting inside the button.\n     * @param {number} options.defaultTextAnchor - Base text anchor to take into account when fitting and placing inside the button.\n     * @param {number} options.defaultIconAnchor - Base icon anchor to take into account when fitting and placing inside the button.\n     * @param {number} options.anchor - Anchor point of the button.\n     * @param {number} options.anchorX - Horizontal anchor point of the button.\n     * @param {number} options.anchorY - Vertical anchor point of the button.\n     * @param { Array } options.nineSliceSprite - NineSliceSprite values for views ([number, number, number, number]).\n     *                                      <br> <b>!!! IMPORTANT:</b> To make it work, you have to pass a views (defaultView, hoverView, pressedView, disabledView) parameters as texture name or texture instance.\n     * @param options.animations - Animations that will be played when the button state changes.\n     */\n    constructor(options?: ButtonOptions)\n    {\n        super();\n\n        this.options = options ?? {};\n\n        const {\n            defaultView,\n            hoverView,\n            pressedView,\n            disabledView,\n            text,\n            padding,\n            offset,\n            textOffset,\n            iconOffset,\n            defaultTextScale: textScale,\n            defaultIconScale: iconScale,\n            defaultTextAnchor: textAnchor,\n            defaultIconAnchor: iconAnchor,\n            scale,\n            anchor,\n            anchorX,\n            anchorY,\n            icon,\n            animations,\n        } = options ?? {};\n\n        this.addChild(this.innerView);\n\n        this.anchor = new ObservablePoint({\n            _onUpdate: () => this.updateAnchor(),\n        });\n        this.anchor.set(anchorX ?? anchor ?? 0, anchorY ?? anchor ?? 0);\n\n        this.padding = padding ?? 0;\n        this.offset = offset ?? {};\n        this.textOffset = textOffset ?? {};\n        this.iconOffset = iconOffset ?? {};\n        this.defaultTextScale = textScale ?? { x: 1, y: 1 };\n        this.defaultIconScale = iconScale ?? { x: 1, y: 1 };\n        this.defaultTextAnchor = textAnchor ?? { x: 0.5, y: 0.5 };\n        this.defaultIconAnchor = iconAnchor ?? { x: 0.5, y: 0.5 };\n        this.scale.set(scale ?? 1);\n\n        if (animations)\n        {\n            this.animations = animations;\n            this.setOriginalInnerViewState();\n            Ticker.shared.add(() => Group.shared.update());\n        }\n\n        this.setState('default');\n\n        this.defaultView = defaultView;\n        this.hoverView = hoverView;\n        this.pressedView = pressedView;\n        this.disabledView = disabledView;\n        this.text = text ?? '';\n        if (icon !== undefined)\n        {\n            this.iconView = icon;\n        }\n\n        this.initStateControl();\n    }\n\n    /**\n     * Updates the text of the button and updates its scaling basing on the new size.\n     * @param {string | number} text\n     */\n    set text(text: AnyText)\n    {\n        if (!text || text === 0)\n        {\n            this.removeView('textView');\n\n            return;\n        }\n\n        if (!this._views.textView)\n        {\n            this.createTextView(text);\n\n            return;\n        }\n\n        this._views.textView.text = text.toString();\n    }\n\n    /** Returns the text string of the button text element. */\n    get text(): string | undefined\n    {\n        return this._views.textView?.text;\n    }\n\n    /**\n     * Setter, that prevents all button events from firing.\n     * @param {boolean} enabled\n     */\n    override set enabled(enabled: boolean)\n    {\n        this.button.enabled = enabled;\n\n        this.setState(enabled ? 'default' : 'disabled');\n    }\n\n    override get enabled(): boolean\n    {\n        return this.button.enabled;\n    }\n\n    /**\n     * Updates button state and shows the according views.\n     *\n     * Updates positions and offsets of the views.\n     *\n     * Plays animations if they are set.\n     * @param {State} newState\n     * @param force\n     */\n    setState(newState: State, force = false)\n    {\n        if (!force && this.state === newState)\n        {\n            return;\n        }\n\n        const currentView = this.getStateView(this.state);\n\n        if (currentView) currentView.visible = false;\n\n        this.state = newState;\n\n        const activeView = this.getStateView(newState);\n\n        if (activeView)\n        {\n            this.setOffset(activeView, newState, this.offset);\n            activeView.visible = true;\n        }\n\n        this.updateAnchor();\n\n        this.playAnimations(newState);\n    }\n\n    /**\n     *\n     * Manage button text view.\n     * @param {string | Text} text - can be a string, Text, BitmapText ot HTMLText (Container-based element).\n     */\n    protected createTextView(text: AnyText)\n    {\n        this._views.textView = getTextView(text);\n\n        // If text scale has not manually been set, we will overwrite the base scale with the new text view scale.\n        if (this.options?.defaultTextScale === undefined)\n        {\n            const { x, y } = this._views.textView.scale;\n\n            this._defaultTextScale = { x, y };\n        }\n\n        this.innerView.addChild(this._views.textView);\n\n        this.adjustTextView(this.state);\n    }\n\n    /**\n     * Manages views offsets if it's set.\n     * @param view\n     * @param state\n     * @param offset\n     */\n    protected setOffset(view: Container, state: State, offset: Offset)\n    {\n        const stateOffset = offset\n            ? offset[state]\n            : {\n                x: 0,\n                y: 0,\n            };\n\n        const defaultStateOffset = offset?.default;\n\n        if (stateOffset)\n        {\n            view.x += stateOffset.x ?? 0;\n            view.y += stateOffset.y ?? 0;\n        }\n        else if (defaultStateOffset)\n        {\n            view.x += defaultStateOffset.x ?? 0;\n            view.y += defaultStateOffset.y ?? 0;\n        }\n        else if (offset.x || offset.y)\n        {\n            view.x += offset.x ?? 0;\n            view.y += offset.y ?? 0;\n        }\n    }\n\n    /**\n     * Returns active view for the state.\n     * @param state\n     */\n    protected getStateView(state: State): Container | undefined\n    {\n        if (!this._views) return undefined;\n\n        switch (state)\n        {\n            case 'hover':\n                return this._views.hoverView ?? this._views.defaultView ?? undefined;\n            case 'pressed':\n                return (\n                    this._views.pressedView\n                    ?? this._views.hoverView\n                    ?? this._views.defaultView\n                    ?? undefined\n                );\n            case 'disabled':\n                return this._views.disabledView ?? this._views.defaultView ?? undefined;\n            case 'default':\n                return this._views.defaultView ?? undefined;\n            default:\n                return undefined;\n        }\n    }\n\n    /**\n     * Adjusts text view position and scale.\n     * @param {State} state\n     */\n    protected adjustTextView(state: State)\n    {\n        if (!this.text) return;\n        if (!this._views.textView) return;\n\n        const activeView = this.getStateView(this.state);\n        const anchorX = this._defaultTextAnchor.x ?? 0.5;\n        const anchorY = this._defaultTextAnchor.y ?? 0.5;\n\n        if (activeView)\n        {\n            if (!this.options?.ignoreRefitting)\n            {\n                this._views.textView.scale.set(this._defaultTextScale.x, this._defaultTextScale.y);\n            }\n\n            if (this.contentFittingMode === 'default')\n            {\n                fitToView(activeView, this._views.textView, this.padding, false);\n            }\n\n            if (this.contentFittingMode === 'fill')\n            {\n                // reset to base dimensions for calculations\n                this._views.textView.scale.set(1);\n\n                const availableWidth = activeView.width - (this.padding * 2);\n                const availableHeight = activeView.height - (this.padding * 2);\n                const targetScaleX = availableWidth / this._views.textView.width;\n                const targetScaleY = availableHeight / this._views.textView.height;\n                const scale = Math.min(targetScaleX, targetScaleY);\n\n                this._views.textView.scale.set(\n                    scale * (this._defaultTextScale.x ?? 1),\n                    scale * (this._defaultTextScale.y ?? 1),\n                );\n            }\n\n            this._views.textView.x = activeView.x + (activeView.width / 2);\n            this._views.textView.y = activeView.y + (activeView.height / 2);\n        }\n\n        this._views.textView.anchor.set(anchorX, anchorY);\n        this.setOffset(this._views.textView, state, this.textOffset);\n    }\n\n    /**\n     * Adjusts icon view position and scale.\n     * @param {State} state\n     */\n    protected adjustIconView(state: State)\n    {\n        if (!this._views.iconView)\n        {\n            return;\n        }\n\n        const activeView = this.getStateView(state);\n\n        if (!activeView)\n        {\n            return;\n        }\n\n        if (!this.options?.ignoreRefitting)\n        {\n            this._views.iconView.scale.set(this._defaultIconScale.x, this._defaultIconScale.y);\n        }\n\n        if (this.contentFittingMode === 'default')\n        {\n            fitToView(activeView, this._views.iconView, this.padding, false);\n        }\n\n        if (this.contentFittingMode === 'fill')\n        {\n            // reset to base dimensions for calculations\n            this._views.iconView.scale.set(1);\n\n            const availableWidth = activeView.width - (this.padding * 2);\n            const availableHeight = activeView.height - (this.padding * 2);\n            const targetScaleX = availableWidth / this._views.iconView.width;\n            const targetScaleY = availableHeight / this._views.iconView.height;\n            const scale = Math.min(targetScaleX, targetScaleY);\n\n            this._views.iconView.scale.set(\n                scale * (this._defaultIconScale.x ?? 1),\n                scale * (this._defaultIconScale.y ?? 1),\n            );\n        }\n\n        const anchorX = this._defaultIconAnchor.x ?? 0.5;\n        const anchorY = this._defaultIconAnchor.y ?? 0.5;\n\n        if ('anchor' in this._views.iconView)\n        {\n            (this._views.iconView.anchor as ObservablePoint).set(anchorX, anchorY);\n        }\n        else\n        {\n            this._views.iconView.pivot.set(\n                anchorX * (this._views.iconView.width / this._views.iconView.scale.x),\n                anchorY * (this._views.iconView.height / this._views.iconView.scale.y),\n            );\n        }\n\n        this._views.iconView.x = activeView.x + (activeView.width / 2);\n        this._views.iconView.y = activeView.y + (activeView.height / 2);\n\n        this.setOffset(this._views.iconView, state, this.iconOffset);\n    }\n\n    /**\n     * Reset views positions according to the button anchor setting.\n     * We have to set the anchor position for each view individually, as each of them\n     * can be a different type of view (container without anchor, sprite with anchor, etc)\n     * we have to reset all anchors to 0,0 and then set the positions manually.\n     */\n    protected updateAnchor()\n    {\n        if (!this._views) return;\n\n        const anchorX = this.anchor.x ?? 0;\n        const anchorY = this.anchor.y ?? 0;\n        const views = [\n            this._views.defaultView,\n            this._views.hoverView,\n            this._views.pressedView,\n            this._views.disabledView,\n        ];\n\n        views.forEach((view) =>\n        {\n            if (!view) return;\n\n            (view as Sprite).anchor?.set(0);\n\n            view.x = -view.width * anchorX;\n            view.y = -view.height * anchorY;\n        });\n\n        if (this._views.defaultView)\n        {\n            const { x, y, width, height } = this._views.defaultView;\n\n            this.hitArea = new Rectangle(x, y, width, height);\n        }\n\n        this.adjustIconView(this.state);\n        this.adjustTextView(this.state);\n    }\n\n    /**\n     * Sets the fitting mode for the button's content.\n     * @param {ContentFittingMode} mode - fitting mode type.\n     */\n    set contentFittingMode(mode: ContentFittingMode)\n    {\n        this.options.contentFittingMode = mode;\n    }\n\n    /** Returns the fitting mode for the button's content, defaulting to 'default'. */\n    get contentFittingMode(): ContentFittingMode\n    {\n        return this.options.contentFittingMode ?? 'default';\n    }\n\n    /**\n     * Sets the default view of the button.\n     * @param { string | Container } view - string (path to the image) or a Container-based view\n     */\n    set defaultView(view: GetViewSettings | undefined)\n    {\n        this.updateView('defaultView', view);\n        if (this._views.disabledView && this.state !== 'default')\n        {\n            this._views.disabledView.visible = false;\n        }\n    }\n\n    /** Returns the default view of the button. */\n    get defaultView(): Container | undefined\n    {\n        return this._views.defaultView;\n    }\n\n    /**\n     * Sets the hover view of the button.\n     * @param { string | Container } view - string (path to the image) or a Container-based view\n     */\n    set hoverView(view: GetViewSettings | undefined)\n    {\n        this.updateView('hoverView', view);\n        if (this._views.hoverView && this.state !== 'hover')\n        {\n            this._views.hoverView.visible = false;\n        }\n    }\n\n    /** Returns the hover view of the button. */\n    get hoverView(): Container | undefined\n    {\n        return this._views.hoverView;\n    }\n\n    /** Sets the pressed view of the button. */\n    set pressedView(view: GetViewSettings | undefined)\n    {\n        this.updateView('pressedView', view);\n        if (this._views.pressedView && this.state !== 'pressed')\n        {\n            this._views.pressedView.visible = false;\n        }\n    }\n\n    /** Returns the pressed view of the button. */\n    get pressedView(): Container | undefined\n    {\n        return this._views.pressedView;\n    }\n\n    /** Sets the disabled view of the button. */\n    set disabledView(view: GetViewSettings | undefined)\n    {\n        this.updateView('disabledView', view);\n        if (this._views.disabledView && this.state !== 'disabled')\n        {\n            this._views.disabledView.visible = false;\n        }\n    }\n\n    /** Returns the disabled view of the button. */\n    get disabledView(): Container | undefined\n    {\n        return this._views.disabledView;\n    }\n\n    /**\n     * Helper method to update or cleanup button views.\n     * @param { 'defaultView' | 'hoverView' | 'pressedView' | 'disabledView' } viewType - type of the view to update\n     * @param { string | Texture | Container | null } view - new view\n     */\n    protected updateView(viewType: ButtonViewType, view: GetViewSettings | undefined)\n    {\n        if (view === undefined) return;\n\n        this.removeView(viewType);\n\n        if (this.options?.nineSliceSprite)\n        {\n            if (typeof view === 'string')\n            {\n                this._views[viewType] = new NineSliceSprite({\n                    texture: Texture.from(view),\n                    leftWidth: this.options.nineSliceSprite[0],\n                    topHeight: this.options.nineSliceSprite[1],\n                    rightWidth: this.options.nineSliceSprite[2],\n                    bottomHeight: this.options.nineSliceSprite[3],\n                });\n            }\n            else if (view instanceof Texture)\n            {\n                this._views[viewType] = new NineSliceSprite({\n                    texture: view,\n                    leftWidth: this.options.nineSliceSprite[0],\n                    topHeight: this.options.nineSliceSprite[1],\n                    rightWidth: this.options.nineSliceSprite[2],\n                    bottomHeight: this.options.nineSliceSprite[3],\n                });\n            }\n            else\n            {\n                console.warn('NineSliceSprite can not be used with views set as Container. Pass the texture or texture name as instead of the Container extended instance.');\n            }\n        }\n\n        if (!this._views[viewType])\n        {\n            this._views[viewType] = getView(view);\n        }\n\n        this.setOffset(this._views[viewType], this.state, this.offset);\n\n        if (!this._views[viewType].parent)\n        {\n            this.innerView.addChild(this._views[viewType]);\n        }\n\n        this.updateAnchor();\n\n        if (this._views.iconView)\n        {\n            // place icon on top of the view\n            this.innerView.addChild(this._views.iconView);\n        }\n\n        if (this._views.textView)\n        {\n            // place text on top of the view\n            this.innerView.addChild(this._views.textView);\n        }\n\n        this.setState(this.state, true);\n    }\n\n    /**\n     * Removes button view by type\n     * @param {'defaultView' | 'hoverView' | 'pressedView' | 'disabledView'} viewType - type of the view to remove\n     */\n    removeView(viewType: ButtonViewType | 'textView' | 'iconView')\n    {\n        if (this._views[viewType])\n        {\n            this.innerView.removeChild(this._views[viewType]);\n            this._views[viewType] = undefined;\n        }\n    }\n\n    /**\n     * Sets the textView of the button.\n     * @param { string | number | PixiText | Text | BitmapText | HTMLText } textView - string, text or pixi text instance.\n     */\n    set textView(textView: AnyText | null)\n    {\n        if (textView === undefined) return;\n\n        this.removeView('textView');\n\n        if (textView === null)\n        {\n            return;\n        }\n\n        this.createTextView(textView);\n    }\n\n    /**\n     * Returns the text view of the button.\n     * @returns pixi text instance or undefined.\n     */\n    get textView(): PixiText | undefined\n    {\n        return this._views.textView;\n    }\n\n    /**\n     * Sets the iconView of the button.\n     * @param { string | Texture | Container } view - string (path to the image), texture instance or a Container-based view\n     */\n    set iconView(view: GetViewSettings | undefined)\n    {\n        if (view === undefined) return;\n\n        this.removeView('iconView');\n\n        if (view === null)\n        {\n            return;\n        }\n\n        this._views.iconView = getView(view);\n\n        // If icon scale has not manually been set, we will overwrite the base scale with the new icon view scale.\n        if (this.options?.defaultIconScale === undefined)\n        {\n            const { x, y } = this._views.iconView.scale;\n\n            this._defaultIconScale = { x, y };\n        }\n\n        if (!this._views.iconView.parent)\n        {\n            this.innerView.addChild(this._views.iconView);\n        }\n\n        this.setState(this.state, true);\n    }\n\n    /** Returns the icon view of the button. */\n    get iconView(): Container | undefined\n    {\n        return this._views.iconView;\n    }\n\n    /**\n     * Starts animation for the current button state if configured.\n     * @param {State} state\n     */\n    protected playAnimations(state: State)\n    {\n        if (!this.animations) return;\n\n        const stateAnimation = this.animations[state] ?? this.animations.default;\n\n        if (stateAnimation)\n        {\n            const data = stateAnimation;\n\n            this.defaultDuration = data.duration ?? this.defaultDuration;\n\n            new Tween(this.innerView).to(data.props, data.duration).start();\n\n            return;\n        }\n\n        // if there is no animation for the current state, animate the button to the default state\n        new Tween(this.innerView).to(this.originalInnerViewState, this.defaultDuration).start();\n    }\n\n    protected setOriginalInnerViewState()\n    {\n        this.originalInnerViewState = {\n            x: this.innerView.x,\n            y: this.innerView.y,\n            width: this.innerView.width,\n            height: this.innerView.height,\n            scale: {\n                x: this.innerView.scale.x,\n                y: this.innerView.scale.y,\n            },\n        };\n\n        // first animation state is default, so we don't need to animate it\n        // this part will run only once, during initialization\n        const defaultStateAnimation = this.animations?.default;\n\n        if (defaultStateAnimation)\n        {\n            this.innerView.x = defaultStateAnimation.props.x ?? this.originalInnerViewState.x ?? 0;\n            this.innerView.y = defaultStateAnimation.props.y ?? this.originalInnerViewState.y ?? 0;\n            this.innerView.width\n                = defaultStateAnimation.props.width ?? this.originalInnerViewState.width ?? 0;\n            this.innerView.height\n                = defaultStateAnimation.props.height ?? this.originalInnerViewState.height ?? 0;\n            this.innerView.scale.x\n                = defaultStateAnimation.props.scale?.x ?? this.originalInnerViewState.scale?.x ?? 1;\n            this.innerView.scale.y\n                = defaultStateAnimation.props.scale?.y ?? this.originalInnerViewState.scale?.y ?? 1;\n        }\n    }\n\n    protected initStateControl()\n    {\n        this.onDown.connect(() =>\n        {\n            this.setState('pressed');\n        });\n\n        this.onUp.connect(() =>\n        {\n            this.setState(isMobile.any ? 'default' : 'hover');\n        });\n\n        this.onUpOut.connect(() =>\n        {\n            this.setState('default');\n        });\n\n        this.onOut.connect(() =>\n        {\n            if (!this.button.isDown)\n            {\n                this.setState('default');\n            }\n        });\n\n        this.onPress.connect(() =>\n        {\n            this.setState(isMobile.any ? 'default' : 'hover');\n        });\n\n        this.onHover.connect(() =>\n        {\n            if (!this.button.isDown)\n            {\n                this.setState(isMobile.any ? 'default' : 'hover');\n            }\n        });\n    }\n\n    /**\n     * Sets the button padding.\n     * @param {number} padding - padding of the button text and icon views.\n     */\n    set padding(padding: number)\n    {\n        this._padding = padding;\n\n        this.adjustTextView(this.state);\n        this.adjustIconView(this.state);\n    }\n\n    /** Returns the button padding. */\n    get padding(): number\n    {\n        return this._padding;\n    }\n\n    /**\n     * Sets the button offset.\n     * @param { { x?: number; y?: number } } offset - offset of the button.\n     * Can be set for each state of the button.\n     */\n    set offset(offset: Offset)\n    {\n        this._offset = offset;\n\n        this.updateAnchor();\n    }\n\n    /** Returns the button offset. */\n    get offset(): Offset\n    {\n        return this._offset;\n    }\n\n    /**\n     * Sets the button text offset.\n     * @param { { x?: number; y?: number } } textOffset - offsets of the button text view.\n     * can be set for each state of the button.\n     */\n    set textOffset(textOffset: Offset)\n    {\n        this._textOffset = textOffset;\n\n        this.adjustTextView(this.state);\n    }\n\n    /** Returns the button text offset. */\n    get textOffset(): Offset\n    {\n        return this._textOffset;\n    }\n\n    /**\n     * Sets the base scale for the text view to take into account when fitting inside the button.\n     * @param {Pos | number} scale - base scale of the text view.\n     */\n    set defaultTextScale(scale: Pos | number)\n    {\n        if (scale === undefined) return;\n        // Apply to the options so that the manual scale is prioritized.\n        this.options.defaultTextScale = scale;\n        const isNumber = typeof scale === 'number';\n\n        this._defaultTextScale.x = isNumber ? scale : scale.x ?? 1;\n        this._defaultTextScale.y = isNumber ? scale : scale.y ?? 1;\n        this.adjustTextView(this.state);\n    }\n\n    /** Returns the text view base scale. */\n    get defaultTextScale(): Pos\n    {\n        return this.defaultTextScale;\n    }\n\n    /**\n     * Sets the base scale for the icon view to take into account when fitting inside the button.\n     * @param {Pos | number} scale - base scale of the icon view.\n     */\n    set defaultIconScale(scale: Pos | number)\n    {\n        if (scale === undefined) return;\n        // Apply to the options so that the manual scale is prioritized.\n        this.options.defaultIconScale = scale;\n        const isNumber = typeof scale === 'number';\n\n        this._defaultIconScale.x = isNumber ? scale : scale.x ?? 1;\n        this._defaultIconScale.y = isNumber ? scale : scale.y ?? 1;\n        this.adjustIconView(this.state);\n    }\n\n    /** Returns the icon view base scale. */\n    get defaultIconScale(): Pos\n    {\n        return this.defaultIconScale;\n    }\n\n    /**\n     * Sets the base anchor for the text view to take into account when fitting and placing inside the button.\n     * @param {Pos | number} anchor - base anchor of the text view.\n     */\n    set defaultTextAnchor(anchor: Pos | number)\n    {\n        if (anchor === undefined) return;\n        // Apply to the options so that the manual anchor is prioritized.\n        this.options.defaultTextAnchor = anchor;\n        const isNumber = typeof anchor === 'number';\n\n        this._defaultTextAnchor.x = isNumber ? anchor : anchor.x ?? 1;\n        this._defaultTextAnchor.y = isNumber ? anchor : anchor.y ?? 1;\n        this.adjustTextView(this.state);\n    }\n\n    /** Returns the text view base anchor. */\n    get defaultTextAnchor(): Pos\n    {\n        return this.defaultTextAnchor;\n    }\n\n    /**\n     * Sets the base anchor for the icon view to take into account when fitting and placing inside the button.\n     * @param {Pos | number} anchor - base anchor of the icon view.\n     */\n    set defaultIconAnchor(anchor: Pos | number)\n    {\n        if (anchor === undefined) return;\n        // Apply to the options so that the manual anchor is prioritized.\n        this.options.defaultIconAnchor = anchor;\n        const isNumber = typeof anchor === 'number';\n\n        this._defaultIconAnchor.x = isNumber ? anchor : anchor.x ?? 1;\n        this._defaultIconAnchor.y = isNumber ? anchor : anchor.y ?? 1;\n        this.adjustIconView(this.state);\n    }\n\n    /** Returns the icon view base anchor. */\n    get defaultIconAnchor(): Pos\n    {\n        return this.defaultIconAnchor;\n    }\n\n    /**\n     * Sets width of a FancyButtons state views.\n     * If nineSliceSprite is set, then width will be set to nineSliceSprites of a views.\n     * If nineSliceSprite is not set, then width will control components width as Container.\n     * @param width - Width value.\n     */\n    override set width(width: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._views.defaultView)\n            {\n                this._views.defaultView.width = width;\n            }\n            if (this._views.hoverView)\n            {\n                this._views.hoverView.width = width;\n            }\n            if (this._views.pressedView)\n            {\n                this._views.pressedView.width = width;\n            }\n            if (this._views.disabledView)\n            {\n                this._views.disabledView.width = width;\n            }\n\n            this.adjustTextView(this.state);\n            this.adjustIconView(this.state);\n            this.updateAnchor();\n        }\n        else\n        {\n            super.width = width;\n        }\n    }\n\n    /** Gets width of a FancyButton. */\n    override get width(): number\n    {\n        return super.width;\n    }\n\n    /**\n     * Sets height of a FancyButtons state views.\n     * If nineSliceSprite is set, then height will be set to nineSliceSprites of a views.\n     * If nineSliceSprite is not set, then height will control components height as Container.\n     * @param height - Height value.\n     */\n    override set height(height: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._views.defaultView)\n            {\n                this._views.defaultView.height = height;\n            }\n            if (this._views.hoverView)\n            {\n                this._views.hoverView.height = height;\n            }\n            if (this._views.pressedView)\n            {\n                this._views.pressedView.height = height;\n            }\n            if (this._views.disabledView)\n            {\n                this._views.disabledView.height = height;\n            }\n\n            this.adjustTextView(this.state);\n            this.adjustIconView(this.state);\n            this.updateAnchor();\n        }\n        else\n        {\n            super.height = height;\n        }\n    }\n\n    /** Gets height of a FancyButton. */\n    override get height(): number\n    {\n        return super.height;\n    }\n\n    override setSize(value: number | Optional<Size, 'height'>, height?: number): void\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._views.defaultView)\n            {\n                this._views.defaultView.setSize(value, height);\n            }\n            if (this._views.hoverView)\n            {\n                this._views.hoverView.setSize(value, height);\n            }\n            if (this._views.pressedView)\n            {\n                this._views.pressedView.setSize(value, height);\n            }\n            if (this._views.disabledView)\n            {\n                this._views.disabledView.setSize(value, height);\n            }\n\n            this.adjustTextView(this.state);\n            this.adjustIconView(this.state);\n            this.updateAnchor();\n        }\n        else\n        {\n            super.setSize(value, height);\n        }\n    }\n}\n","import { Container, ContainerChild } from 'pixi.js';\nimport { LIST_TYPE } from './utils/HelpTypes';\n\nexport type ListType = (typeof LIST_TYPE)[number];\n\nexport type ListOptions<C extends ContainerChild = ContainerChild> = {\n    elementsMargin?: number;\n    children?: C[];\n    padding?: number;\n    vertPadding?: number;\n    horPadding?: number;\n    topPadding?: number;\n    bottomPadding?: number;\n    leftPadding?: number;\n    rightPadding?: number;\n    items?: C[];\n    maxWidth?: number;\n    maxHeight?: number;\n};\n\n/**\n * Container-based component for arranging Pixi containers one after another based on their sizes.\n *\n * Type option is used to set the direction of the arrangement.\n *\n * If type is not specified, it will be acting like a bidirectional, items will be arranged to fit horizontally,\n * after there is no space left, new line will be started, so items will be arranged like `inline-block` in css.\n * Max width to fit horizontally can be set by `maxWidth` option, of not set, parent width will be used.\n * Check this example to see how it works:\n * https://pixijs.io/ui/storybook/?path=/story/components-scrollbox-use-graphics--use-graphics\n *\n * It is used inside elements with repeatable content, like {@link Select} or {@link ScrollBox}.\n * @example\n * const list = new List({\n *    children: [\n        new Graphics().rect(0, 0, 50, 50).fill(0x000000),\n        new Graphics().rect(0, 0, 50, 50).fill(0xFFFFFF),\n *    ],\n * });\n *\n * list.addChild(new Graphics().rect(0, 0, 50, 50)).fill(0x000000);\n */\nexport class List<C extends ContainerChild = ContainerChild> extends Container<C>\n{\n    protected options?: { type?: ListType } & ListOptions<C>;\n\n    /** Arrange direction. Defaults to 'bidirectional' for multi-column layout when type is not specified. */\n    protected _type: ListType = 'bidirectional';\n\n    /** Width of area to fit elements when arrange. (If not set parent width will be used). */\n    protected _maxWidth: number = 0;\n\n    /** Returns all arranged elements. */\n    override readonly children: C[] = [];\n\n    constructor(options?: { type?: ListType } & ListOptions<C>)\n    {\n        super();\n\n        if (options)\n        {\n            if (options.maxWidth)\n            {\n                this._maxWidth = options.maxWidth;\n            }\n\n            this.init(options);\n        }\n\n        options?.items?.forEach((item) => this.addChild(item));\n\n        this.on('added', () => this.arrangeChildren());\n        this.on('childAdded', () => this.arrangeChildren());\n    }\n\n    /**\n     * Initiates list component.\n     * @param options\n     */\n    init(options?: { type?: ListType } & ListOptions<C>)\n    {\n        this.options = options;\n\n        // Only override the default 'bidirectional' type if explicitly specified\n        if (options?.type)\n        {\n            this.type = options.type;\n        }\n\n        if (options?.children)\n        {\n            options.children.forEach((child) => this.addChild(child));\n        }\n    }\n\n    /**\n     * Set items arrange direction.\n     * @param type - Arrange direction.\n     */\n    set type(type: ListType)\n    {\n        this._type = type;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get items arrange direction.\n     * @returns Arrange direction.\n     */\n    get type(): ListType\n    {\n        return this._type;\n    }\n\n    /**\n     * Set element margin.\n     * @param margin - Margin between elements.\n     */\n    set elementsMargin(margin: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.elementsMargin = margin;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get element margin.\n     * @returns Margin between elements.\n     */\n    get elementsMargin(): number\n    {\n        return this.options?.elementsMargin ?? 0;\n    }\n\n    /**\n     * Set padding, overriding all padding options.\n     * @param padding - Padding surrounding list elements and its border.\n     */\n    set padding(padding: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.padding = padding;\n        this.options.vertPadding = padding;\n        this.options.horPadding = padding;\n        this.options.leftPadding = padding;\n        this.options.rightPadding = padding;\n        this.options.topPadding = padding;\n        this.options.bottomPadding = padding;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get padding.\n     * @returns Padding surrounding list elements and its border.\n     */\n    get padding(): number\n    {\n        return this.options?.padding ?? 0;\n    }\n\n    /**\n     * Set vertical padding, overriding all top and bottom padding options.\n     * @param padding - Vertical padding between list border and its elements.\n     */\n    set vertPadding(padding: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.vertPadding = padding;\n        this.options.topPadding = padding;\n        this.options.bottomPadding = padding;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get vertical padding.\n     * @returns Vertical padding between list border and its elements.\n     */\n    get vertPadding(): number\n    {\n        return this.options?.vertPadding ?? this.padding ?? 0;\n    }\n\n    /**\n     * Set horizontal padding, overriding all left and right padding options.\n     * @param padding - Horizontal padding between list border and its elements.\n     */\n    set horPadding(padding: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.horPadding = padding;\n        this.options.leftPadding = padding;\n        this.options.rightPadding = padding;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get horizontal padding.\n     * @returns Horizontal padding between list border and its elements.\n     */\n    get horPadding(): number\n    {\n        return this.options?.horPadding ?? this.padding ?? 0;\n    }\n\n    /**\n     * Set left padding.\n     * @param padding - Left padding between list border and its elements.\n     */\n    set leftPadding(padding: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.leftPadding = padding;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get left padding.\n     * @returns Left padding between list border and its elements.\n     */\n    get leftPadding(): number\n    {\n        return this.options?.leftPadding ?? this.horPadding;\n    }\n\n    /**\n     * Set right padding.\n     * @param padding - Right padding between list border and its elements.\n     */\n    set rightPadding(padding: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.rightPadding = padding;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get right padding.\n     * @returns Right padding between list border and its elements.\n     */\n    get rightPadding(): number\n    {\n        return this.options?.rightPadding ?? this.horPadding;\n    }\n\n    /**\n     * Set top padding.\n     * @param padding - Top padding between list border and its elements.\n     */\n    set topPadding(padding: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.topPadding = padding;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get top padding.\n     * @returns Top padding between list border and its elements.\n     */\n    get topPadding(): number\n    {\n        return this.options?.topPadding ?? this.vertPadding;\n    }\n\n    /**\n     * Set bottom padding.\n     * @param padding - Bottom padding between list border and its elements.\n     */\n    set bottomPadding(padding: number)\n    {\n        if (!this.options) throw new Error('List has not been initiated!');\n        this.options.bottomPadding = padding;\n        this.arrangeChildren();\n    }\n\n    /**\n     * Get bottom padding.\n     * @returns Bottom padding between list border and its elements.\n     */\n    get bottomPadding(): number\n    {\n        return this.options?.bottomPadding ?? this.vertPadding;\n    }\n\n    /**\n     * Arrange all elements basing in their sizes and component options.\n     * Can be arranged vertically, horizontally or bidirectional.\n     */\n    public arrangeChildren()\n    {\n        let maxHeight = 0;\n        let x = this.leftPadding;\n        let y = this.topPadding;\n\n        const elementsMargin = this.options?.elementsMargin ?? 0;\n        let maxWidth = (this.maxWidth || this.parent?.width) ?? 0;\n\n        if (this.rightPadding)\n        {\n            maxWidth -= this.rightPadding;\n        }\n\n        this.children.forEach((child, id) =>\n        {\n            switch (this.type)\n            {\n                case 'vertical':\n                    child.y = y;\n                    child.x = x;\n\n                    y += elementsMargin + child.height;\n                    break;\n\n                case 'horizontal':\n                    child.x = x;\n                    child.y = y;\n\n                    x += elementsMargin + child.width;\n                    break;\n\n                case 'bidirectional':\n                default:\n                    child.x = x;\n                    child.y = y;\n\n                    if (child.x + child.width > maxWidth && id > 0)\n                    {\n                        y += elementsMargin + maxHeight;\n                        x = this.leftPadding;\n\n                        child.x = x;\n                        child.y = y;\n                        maxHeight = 0;\n                    }\n\n                    maxHeight = Math.max(maxHeight, child.height);\n                    x += elementsMargin + child.width;\n                    break;\n            }\n        });\n    }\n\n    /**\n     * Removes items from the list. (Does not destroy them)\n     * @param itemID - Item to remove (starting from 0).\n     */\n    removeItem(itemID: number)\n    {\n        const child = this.children[itemID];\n\n        if (!child)\n        {\n            return;\n        }\n\n        this.removeChild(child);\n        this.arrangeChildren();\n    }\n\n    /** Set width of area to fit elements when arrange. (If not set parent width will be used). */\n    set maxWidth(width: number)\n    {\n        this._maxWidth = width;\n        this.arrangeChildren();\n    }\n\n    /** Get width of area to fit elements when arrange. (If not set parent width will be used). */\n    get maxWidth(): number\n    {\n        return this._maxWidth;\n    }\n}\n","export interface SpringOptions\n{\n    max?: number;\n    damp?: number;\n    springiness?: number;\n}\n\nexport class Spring\n{\n    x: number;\n    ax: number;\n    dx: number;\n    tx: number;\n\n    protected _options: Required<SpringOptions>;\n\n    constructor(options: SpringOptions = {})\n    {\n        this.x = 0;\n        this.ax = 0;\n        this.dx = 0;\n        this.tx = 0;\n\n        // add opts to object for shared opts.\n        this._options = {\n            max: options.max ?? 160,\n            damp: options.damp ?? 0.8,\n            springiness: options.springiness ?? 0.1,\n        };\n    }\n\n    update(): void\n    {\n        this.ax = (this.tx - this.x) * this._options.springiness;\n\n        this.dx += this.ax;\n        this.dx *= this._options.damp;\n\n        if (this.dx < -this._options.max) this.dx = -this._options.max;\n        else if (this.dx > this._options.max) this.dx = this._options.max;\n\n        this.x += this.dx;\n    }\n\n    reset(): void\n    {\n        this.x = 0;\n        this.ax = 0;\n        this.dx = 0;\n        this.tx = 0;\n    }\n\n    get max(): number\n    {\n        return this._options.max;\n    }\n\n    set max(value: number)\n    {\n        this._options.max = value;\n    }\n\n    get damp(): number\n    {\n        return this._options.damp;\n    }\n\n    set damp(value: number)\n    {\n        this._options.damp = value;\n    }\n\n    get springiness(): number\n    {\n        return this._options.springiness;\n    }\n\n    set springiness(value: number)\n    {\n        this._options.springiness = value;\n    }\n}\n","import { Spring } from './Spring';\n\nexport default class ScrollSpring\n{\n    done: boolean = false;\n    to: number = 0;\n\n    protected _spring: Spring;\n    protected _pos: number = 0;\n    protected _speed: number = 0;\n    protected _correctSpeed: boolean = false;\n\n    constructor()\n    {\n        this._spring = new Spring();\n        this._pos = 0;\n        this.to = 0;\n    }\n\n    start(speed: number, pos: number, to: number): void\n    {\n        this._speed = speed;\n        this._pos = pos;\n        this.to = to;\n        this.done = false;\n\n        this._spring.x = this._pos;\n        this._spring.tx = this.to;\n\n        const diff = this.to - this._pos;\n        const toDirection = Math.abs(diff) / diff;\n        const currentDirection = Math.abs(this._speed) / this._speed;\n\n        if (toDirection !== currentDirection)\n        {\n            this._correctSpeed = true;\n        }\n        else\n        {\n            this._correctSpeed = false;\n        }\n    }\n\n    update(): number\n    {\n        if (this._correctSpeed)\n        {\n            this._speed *= 0.6;\n\n            if (Math.abs(this._speed) < 2)\n            {\n                this._correctSpeed = false;\n            }\n\n            this._pos += this._speed;\n\n            this._spring.x = this._pos;\n        }\n        else\n        {\n            const diff = this.to - this._pos;\n\n            if (Math.abs(diff) < 0.05)\n            {\n                this._pos = this.to;\n                this.done = true;\n            }\n            else\n            {\n                this._spring.tx = this.to;\n                this._spring.update();\n                this._pos = this._spring.x;\n            }\n        }\n\n        return this._pos;\n    }\n\n    cancel(): void\n    {\n        // matches jux interface\n    }\n}\n","import ScrollSpring from './ScrollSpring';\n\nexport interface SlidingNumberOptions\n{\n    constrain?: boolean;\n    maxSpeed?: number;\n    ease?: ConstrainEase;\n}\n\nexport interface ConstrainEase\n{\n    done: boolean;\n    to: number;\n    start(speed: number, pos: number, to: number): void;\n    update(): number;\n}\n\nexport class SlidingNumber\n{\n    position = 0;\n    constrain = true;\n    min = 0; // the window width of the drag\n    max = 0; // the window width of the drag\n    maxSpeed = 400;\n\n    protected _ease: ConstrainEase;\n\n    protected _offset = 0;\n    protected _prev = 0;\n    protected _speed = 0;\n    protected _hasStopped: boolean = false;\n\n    protected _targetSpeed = 0;\n    protected _speedChecker = 0;\n    protected _grab = 0;\n    protected _activeEase: ConstrainEase | undefined;\n\n    constructor(options: SlidingNumberOptions = {})\n    {\n        this.constrain = options.constrain ?? true;\n        this.maxSpeed = options.maxSpeed ?? 400;\n        this._ease = options.ease ?? new ScrollSpring();\n    }\n\n    set value(n: number)\n    {\n        this._speed = 0;\n        this.position = n;\n    }\n\n    get value(): number\n    {\n        return this.position;\n    }\n\n    grab(offset: number): void\n    {\n        this._grab = offset;\n        this._offset = this.position - offset;\n        this._speedChecker = 0;\n        this._targetSpeed = this._speed = 0;\n        this._hasStopped = false;\n    }\n\n    hold(newPosition: number): void\n    {\n        this._speedChecker++;\n\n        this.position = newPosition + this._offset;\n\n        if (this._speedChecker > 1)\n        {\n            this._targetSpeed = this.position - this._prev;\n        }\n\n        this._speed += (this._targetSpeed - this._speed) / 2;\n\n        if (this._speed > this.maxSpeed) this._speed = this.maxSpeed;\n        else if (this._speed < -this.maxSpeed) this._speed = -this.maxSpeed;\n\n        this._prev = this.position;\n\n        if (this.constrain)\n        {\n            this._activeEase = undefined;\n\n            if (this.position > this.min)\n            {\n                this.position -= (this.position - this.min) / 1.5;\n            }\n            else if (this.position < this.max)\n            {\n                this.position += (this.max - this.position) / 1.5;\n            }\n        }\n    }\n\n    slide(instant = false): void\n    {\n        if (this._hasStopped) return;\n\n        if (this.constrain)\n        {\n            this._updateConstrain(instant);\n        }\n        else\n        {\n            this._updateDefault();\n        }\n    }\n\n    get moveAmount(): number\n    {\n        return -(this.position - this._offset - this._grab);\n    }\n\n    protected _updateDefault(): void\n    {\n        this._speed *= 0.9;\n        this.position += this._speed;\n\n        if ((this._speed < 0 ? this._speed * -1 : this._speed) < 0.01)\n        {\n            this._hasStopped = true;\n        }\n    }\n\n    protected _updateConstrain(instant = false): void\n    {\n        const max: number = this.max;\n\n        if (instant)\n        {\n            if (this.value > 0)\n            {\n                this.value = 0;\n            }\n\n            if (this.value > 0)\n            {\n                this.value = 0;\n            }\n\n            if (this.value < this.max)\n            {\n                this.value = this.max;\n            }\n\n            if (this.value < this.max)\n            {\n                this.value = this.max;\n            }\n        }\n        else if (this.position > this.min || this.position < max || this._activeEase)\n        {\n            if (!this._activeEase)\n            {\n                this._activeEase = this._ease;\n\n                if (this.position > this.min)\n                {\n                    this._activeEase.start(this._speed, this.position, this.min);\n                }\n                else\n                {\n                    this._activeEase.start(this._speed, this.position, max);\n                }\n            }\n\n            this.position = this._activeEase.update();\n\n            if (this._activeEase.done)\n            {\n                this.position = this._activeEase.to;\n                this._speed = 0;\n                this._activeEase = undefined;\n            }\n        }\n        else\n        {\n            this._updateDefault();\n        }\n    }\n}\n","import { Point, Rectangle } from 'pixi.js';\nimport { ConstrainEase, SlidingNumber } from './SlidingNumber';\n\ninterface TrackpadOptions\n{\n    /** override the easing function when constraining */\n    xEase?: ConstrainEase;\n    yEase?: ConstrainEase;\n\n    maxSpeed?: number;\n    constrain?: boolean;\n\n    disableEasing?: boolean;\n}\n\n/** Easing controller for the {@link ScrollBox}. */\nexport class Trackpad\n{\n    xAxis: SlidingNumber;\n    yAxis: SlidingNumber;\n\n    protected _isDown: boolean = false;\n    protected _globalPosition: Point | undefined;\n    protected _frame: Rectangle | undefined;\n    protected _bounds: Rectangle | undefined;\n    protected _dirty: boolean = false;\n    protected disableEasing = false;\n\n    constructor(options: TrackpadOptions)\n    {\n        this.xAxis = new SlidingNumber({\n            ease: options.xEase,\n            maxSpeed: options.maxSpeed,\n            constrain: options.constrain,\n        });\n\n        this.yAxis = new SlidingNumber({\n            ease: options.yEase,\n            maxSpeed: options.maxSpeed,\n            constrain: options.constrain,\n        });\n\n        this.disableEasing = options.disableEasing ?? false;\n\n        this._frame = new Rectangle();\n\n        this._bounds = new Rectangle();\n        this._globalPosition = new Point();\n    }\n\n    pointerDown(pos: Point): void\n    {\n        this._globalPosition = pos;\n        this.xAxis.grab(pos.x);\n        this.yAxis.grab(pos.y);\n        this._isDown = true;\n    }\n\n    pointerUp(): void\n    {\n        this._isDown = false;\n    }\n\n    pointerMove(pos: Point): void\n    {\n        this._globalPosition = pos;\n    }\n\n    update(): void\n    {\n        if (this._dirty && this._bounds && this._frame)\n        {\n            this._dirty = false;\n\n            this.xAxis.min = this._bounds.left;\n            this.xAxis.min = this._bounds.right - this._frame.width;\n\n            this.xAxis.min = this._bounds.top;\n            this.xAxis.min = this._bounds.bottom - this._frame.height;\n        }\n\n        if (this._isDown && this._globalPosition)\n        {\n            this.xAxis.hold(this._globalPosition.x);\n            this.yAxis.hold(this._globalPosition.y);\n        }\n        else\n        {\n            this.xAxis.slide(this.disableEasing);\n            this.yAxis.slide(this.disableEasing);\n        }\n    }\n\n    resize(w: number, h: number): void\n    {\n        if (!this._frame) return;\n\n        this._frame.x = 0;\n        this._frame.width = w;\n\n        this._frame.y = 0;\n        this._frame.height = h;\n\n        this._dirty = true;\n    }\n\n    setBounds(minX: number, maxX: number, minY: number, maxY: number): void\n    {\n        if (!this._bounds) return;\n\n        this._bounds.x = minX;\n        this._bounds.width = maxX - minX;\n        this._bounds.y = minY;\n        this._bounds.height = maxY - minY;\n\n        this._dirty = true;\n    }\n\n    get x(): number\n    {\n        return this.xAxis.value;\n    }\n\n    get y(): number\n    {\n        return this.yAxis.value;\n    }\n}\n","import {\n    ColorSource,\n    Container,\n    DestroyOptions,\n    EventMode,\n    FederatedPointerEvent,\n    Graphics,\n    isMobile,\n    Optional,\n    Point,\n    PointData,\n    Size,\n    Ticker,\n} from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { List } from './List';\nimport { Trackpad } from './utils/trackpad/Trackpad';\n\nimport type { ListOptions, ListType } from './List';\n\nexport type ScrollBoxOptions = {\n    width?: number;\n    height?: number;\n    background?: ColorSource;\n    type?: ListType;\n    radius?: number;\n    disableDynamicRendering?: boolean;\n    disableEasing?: boolean;\n    dragTrashHold?: number;\n    globalScroll?: boolean;\n    shiftScroll?: boolean;\n    proximityRange?: number;\n    proximityDebounce?: number;\n    disableProximityCheck?: boolean;\n} & Omit<ListOptions, 'children'>;\n\ntype ProximityEventData = {\n    item: Container;\n    index: number;\n    inRange: boolean;\n};\n\n/**\n * Scrollable view, for arranging lists of Pixi container-based elements.\n *\n * Items, that are out of the visible area, are not rendered by default.\n * This behavior can be changed by setting 'disableDynamicRendering' option to true.\n * @example\n * new ScrollBox({\n *     background: 0XFFFFFF,\n *     width: 200,\n *     height: 300,\n *     items: [\n *         new Graphics().drawRect(0, 0, 200, 50).fill(0x000000),\n *         new Graphics().drawRect(0, 0, 200, 50).fill(0x000000),\n *         new Graphics().drawRect(0, 0, 200, 50).fill(0x000000),\n *         new Graphics().drawRect(0, 0, 200, 50).fill(0x000000),\n *         new Graphics().drawRect(0, 0, 200, 50).fill(0x000000),\n *         new Graphics().drawRect(0, 0, 200, 50).fill(0x000000),\n *         new Graphics().drawRect(0, 0, 200, 50).fill(0x000000),\n *     ],\n * });\n */\n\nexport class ScrollBox extends Container\n{\n    protected background: Graphics | undefined;\n    protected borderMask: Graphics | undefined;\n    protected lastWidth: number = 0;\n    protected lastHeight: number = 0;\n    protected _width = 0;\n    protected _height = 0;\n    protected _dimensionChanged = false;\n\n    /**\n     * Arrange container, that holds all inner elements.\n     * Use this control inner arrange container size in case of bidirectional scroll type.\n     */\n    list: List | undefined;\n\n    protected _trackpad: Trackpad | undefined;\n    protected isDragging = 0;\n    protected interactiveStorage: {\n        item: Container;\n        eventMode: EventMode;\n    }[] = [];\n    protected visibleItems: Container[] = [];\n    protected pressedChild: Container | undefined;\n    protected ticker = Ticker.shared;\n    protected options: ScrollBoxOptions = {};\n    protected stopRenderHiddenItemsTimeout: NodeJS.Timeout | undefined;\n    protected onMouseScrollBinding = this.onMouseScroll.bind(this);\n    protected dragStarTouchPoint: PointData | undefined;\n    protected isOver = false;\n\n    protected proximityRange: number = 0;\n    protected proximityStatusCache: boolean[] = [];\n    protected lastScrollX: number | undefined;\n    protected lastScrollY: number | undefined;\n    protected proximityCheckFrameCounter = 0;\n    public onProximityChange = new Signal<(data: ProximityEventData) => void>();\n    public onScroll: Signal<(value: number | PointData) => void> = new Signal();\n\n    /**\n     * @param options\n     * @param {number} options.background - background color of the ScrollBox.\n     * @param {number} options.width - width of the ScrollBox.\n     * @param {number} options.height - height of the ScrollBox.\n     * @param {number} options.radius - radius of the ScrollBox and its masks corners.\n     * @param {number} options.elementsMargin - margin between elements.\n     * @param {number} options.vertPadding - vertical padding of the ScrollBox.\n     * @param {number} options.horPadding - horizontal padding of the ScrollBox.\n     * @param {number} options.padding - padding of the ScrollBox (same horizontal and vertical).\n     * @param {boolean} options.disableDynamicRendering - disables dynamic rendering of the ScrollBox,\n     * so even elements the are not visible will be rendered. Be careful with this options as it can impact performance.\n     * @param {boolean} [options.globalScroll=true] - if true, the ScrollBox will scroll even if the mouse is not over it.\n     * @param {boolean} [options.shiftScroll=false] - if true, the ScrollBox will only scroll horizontally if the shift key\n     * is pressed, and the type is set to 'horizontal'.\n     */\n    constructor(options?: ScrollBoxOptions)\n    {\n        super();\n\n        if (options)\n        {\n            this.init(options);\n        }\n\n        this.ticker.add(this.update, this);\n    }\n\n    /**\n     * Initiates ScrollBox.\n     * @param options\n     * @param {number} options.background - background color of the ScrollBox.\n     * @param {number} options.width - width of the ScrollBox.\n     * @param {number} options.height - height of the ScrollBox.\n     * @param {number} options.radius - radius of the ScrollBox and its masks corners.\n     * @param {number} options.elementsMargin - margin between elements.\n     * @param {number} options.vertPadding - vertical padding of the ScrollBox.\n     * @param {number} options.horPadding - horizontal padding of the ScrollBox.\n     * @param {number} options.padding - padding of the ScrollBox (same horizontal and vertical).\n     * @param {boolean} options.disableDynamicRendering - disables dynamic rendering of the ScrollBox,\n     * so even elements the are not visible will be rendered. Be careful with this options as it can impact performance.\n     * @param {boolean} [options.globalScroll=true] - if true, the ScrollBox will scroll even if the mouse is not over it.\n     * @param {boolean} [options.shiftScroll=false] - if true, the ScrollBox will only scroll horizontally if the shift key\n     */\n    init(options: ScrollBoxOptions)\n    {\n        this.options = options;\n        this.setBackground(options.background);\n\n        this._width = options.width ?? this.background?.width ?? 100;\n        this._height = options.height ?? this.background?.height ?? 100;\n\n        this.proximityRange = options.proximityRange ?? 0;\n\n        if (!this.list)\n        {\n            this.list = new List();\n\n            super.addChild(this.list);\n        }\n\n        this.list?.init({\n            type: options.type,\n            elementsMargin: options.elementsMargin,\n            padding: options.padding,\n            vertPadding: options.vertPadding,\n            horPadding: options.horPadding,\n            topPadding: options.topPadding,\n            bottomPadding: options.bottomPadding,\n            leftPadding: options.leftPadding,\n            rightPadding: options.rightPadding,\n            // For bidirectional type (including when options.type is null/undefined since List defaults to bidirectional),\n            // use ScrollBox width as maxWidth to enable multi-column layout. Other types get 0 to disable width constraints.\n            maxWidth: options.maxWidth || (options.type !== 'horizontal' && options.type !== 'vertical' ? this._width : 0),\n        });\n\n        if (options.items)\n        {\n            this.addItems(options.items);\n        }\n\n        if (this.hasBounds)\n        {\n            this.addMask();\n            this.makeScrollable();\n        }\n\n        if (this._trackpad)\n        {\n            this._trackpad.xAxis.value = 0;\n            this._trackpad.yAxis.value = 0;\n        }\n\n        this.options.globalScroll = options.globalScroll ?? true;\n        this.options.shiftScroll = options.shiftScroll ?? false;\n        this.resize();\n    }\n\n    protected get hasBounds(): boolean\n    {\n        return !!this._width || !!this._height;\n    }\n\n    /**\n     *  Adds array of items to a scrollable list.\n     * @param {Container[]} items - items to add.\n     */\n    addItems(items: Container[])\n    {\n        if (!items?.length) return;\n\n        items.forEach((item) => this.addItem(item));\n    }\n\n    /** Remove all items from a scrollable list. */\n    removeItems()\n    {\n        this.proximityStatusCache.length = 0;\n        this.list?.removeChildren();\n    }\n\n    /**\n     * Adds one or more items to a scrollable list.\n     * @param {Container} items - one or more items to add.\n     */\n    addItem<T extends Container[]>(...items: T): T[0]\n    {\n        if (items.length > 1)\n        {\n            items.forEach((item) => this.addItem(item));\n        }\n        else\n        {\n            const child = items[0];\n\n            if (!child.width || !child.height)\n            {\n                console.error('ScrollBox item should have size');\n            }\n\n            child.eventMode = 'static';\n\n            this.list?.addChild(child);\n            this.proximityStatusCache.push(false);\n\n            if (!this.options.disableDynamicRendering)\n            {\n                child.renderable = this.isItemVisible(child);\n            }\n        }\n\n        this.resize();\n\n        return items[0];\n    }\n\n    /**\n     * Removes an item from a scrollable list.\n     * @param {number} itemID - id of the item to remove.\n     */\n    removeItem(itemID: number)\n    {\n        this.list?.removeItem(itemID);\n        this.proximityStatusCache.splice(itemID, 1);\n        this.resize();\n    }\n\n    /**\n     * Checks if the item is visible or scrolled out of the visible part of the view.* Adds an item to a scrollable list.\n     * @param {Container} item - item to check.\n     * @param padding - proximity padding to consider the item visible.\n     */\n    isItemVisible(item: Container, padding = 0): boolean\n    {\n        let isVisible = false;\n        const list = this.list;\n\n        if (!list) return false;\n\n        if (this.isVertical || this.isBidirectional)\n        {\n            const posY = item.y + list.y;\n\n            if (posY + item.height >= -padding && posY <= this._height + padding)\n            {\n                isVisible = true;\n            }\n        }\n\n        if (this.isHorizontal || this.isBidirectional)\n        {\n            const posX = item.x + list.x;\n\n            if (posX + item.width >= -padding && posX <= this._width + padding)\n            {\n                isVisible = true;\n            }\n        }\n\n        return isVisible;\n    }\n\n    /**\n     * Returns all inner items in a list.\n     * @returns {Array<Container> | Array} - list of items.\n     */\n    get items(): Container[] | []\n    {\n        return this.list?.children ?? [];\n    }\n\n    /**\n     * Set ScrollBox background.\n     * @param {number | string} background - background color or texture.\n     */\n    setBackground(background?: ColorSource)\n    {\n        if (this.background)\n        {\n            this.removeChild(this.background);\n        }\n\n        this.options.background = background;\n\n        this.background = new Graphics();\n\n        this.addChildAt(this.background, 0);\n\n        this.resize();\n    }\n\n    protected addMask()\n    {\n        if (!this.borderMask)\n        {\n            this.borderMask = new Graphics();\n            super.addChild(this.borderMask);\n            this.mask = this.borderMask;\n        }\n\n        this.resize();\n    }\n\n    protected makeScrollable()\n    {\n        if (!this._trackpad)\n        {\n            this._trackpad = new Trackpad({\n                disableEasing: this.options.disableEasing,\n            });\n        }\n\n        this.on('pointerdown', (e: FederatedPointerEvent) =>\n        {\n            this.renderAllItems();\n\n            this.isDragging = 1;\n            this.dragStarTouchPoint = this.worldTransform.applyInverse(e.global);\n\n            if (this._trackpad && this.dragStarTouchPoint)\n            {\n                this._trackpad.pointerDown(new Point(this.dragStarTouchPoint.x, this.dragStarTouchPoint.y));\n            }\n\n            const listTouchPoint = this.list?.worldTransform.applyInverse(e.global);\n\n            if (listTouchPoint)\n            {\n                this.visibleItems.forEach((item) =>\n                {\n                    if (\n                        item.x < listTouchPoint.x\n                        && item.x + item.width > listTouchPoint.x\n                        && item.y < listTouchPoint.y\n                        && item.y + item.height > listTouchPoint.y\n                    )\n                    {\n                        this.pressedChild = item;\n                    }\n                });\n            }\n        });\n\n        this.on('pointerup', () =>\n        {\n            this.isDragging = 0;\n            this._trackpad?.pointerUp();\n            this.restoreItemsInteractivity();\n\n            this.pressedChild = undefined;\n\n            this.stopRenderHiddenItems();\n        });\n\n        this.on('pointerover', () =>\n        {\n            this.isOver = true;\n        });\n\n        this.on('pointerout', () =>\n        {\n            this.isOver = false;\n        });\n\n        this.on('pointerupoutside', () =>\n        {\n            this.isDragging = 0;\n            this._trackpad?.pointerUp();\n            this.restoreItemsInteractivity();\n\n            this.pressedChild = undefined;\n\n            this.stopRenderHiddenItems();\n        });\n\n        this.on('globalpointermove', (e: FederatedPointerEvent) =>\n        {\n            if (!this.isDragging) return;\n\n            const touchPoint = this.worldTransform.applyInverse(e.global);\n\n            if (this.dragStarTouchPoint)\n            {\n                const dragTrashHold = this.options.dragTrashHold ?? 10;\n\n                if (this.isHorizontal || this.isBidirectional)\n                {\n                    const xDist = touchPoint.x - this.dragStarTouchPoint.x;\n\n                    if (Math.abs(xDist) > dragTrashHold)\n                    {\n                        this.isDragging = 2;\n                    }\n                }\n\n                if (this.isVertical || this.isBidirectional)\n                {\n                    const yDist = touchPoint.y - this.dragStarTouchPoint.y;\n\n                    if (Math.abs(yDist) > dragTrashHold)\n                    {\n                        this.isDragging = 2;\n                    }\n                }\n            }\n\n            if (this.dragStarTouchPoint && this.isDragging !== 2) return;\n\n            this._trackpad?.pointerMove(new Point(touchPoint.x, touchPoint.y));\n\n            if (this.pressedChild)\n            {\n                this.revertClick(this.pressedChild);\n                this.pressedChild = undefined;\n            }\n\n            if (this.isBidirectional)\n            {\n                this.onScroll?.emit({ x: this.scrollX, y: this.scrollY });\n            }\n            else\n            {\n                this.onScroll?.emit(this.isVertical ? this.scrollY : this.scrollX);\n            }\n        });\n\n        document.addEventListener('wheel', this.onMouseScrollBinding, true);\n    }\n\n    protected setInteractive(interactive: boolean)\n    {\n        this.eventMode = interactive ? 'static' : 'auto';\n    }\n\n    protected get listHeight(): number\n    {\n        return (this.list?.height ?? 0) + (this.list?.topPadding ?? 0) + (this.list?.bottomPadding ?? 0);\n    }\n\n    protected get listWidth(): number\n    {\n        return (this.list?.width ?? 0) + (this.list?.leftPadding ?? 0) + (this.list?.rightPadding ?? 0);\n    }\n\n    /**\n     * Controls item positions and visibility.\n     * @param force\n     */\n    resize(force = false): void\n    {\n        if (!this.hasBounds) return;\n\n        this.renderAllItems();\n\n        if (\n            this.borderMask\n            && (force\n                || this._dimensionChanged\n                || this.lastWidth !== this.listWidth\n                || this.lastHeight !== this.listHeight)\n        )\n        {\n            if (!this.options.width)\n            {\n                this._width += this.listWidth;\n            }\n\n            if (!this.options.height)\n            {\n                this._height += this.listHeight;\n            }\n\n            this.borderMask\n                ?.clear()\n                .roundRect(0, 0, this._width, this._height, (this.options.radius ?? 0) | 0)\n                .fill(0xff00ff)\n                .stroke(0x0);\n\n            if (this.borderMask) this.borderMask.eventMode = 'none';\n\n            const color = this.options.background;\n\n            this.background\n                ?.clear()\n                .roundRect(0, 0, this._width, this._height, (this.options.radius ?? 0) | 0)\n                .fill({\n                    color: color ?? 0x000000,\n                    alpha: color ? 1 : 0.0000001, // if color is not set, set alpha to 0 to be able to drag by click on bg\n                });\n\n            if (this.isBidirectional)\n            {\n                this.setInteractive(this.listWidth > this._width || this.listHeight > this._height);\n            }\n            else if (this.isHorizontal)\n            {\n                this.setInteractive(this.listWidth > this._width);\n            }\n            else\n            {\n                this.setInteractive(this.listHeight > this._height);\n            }\n\n            this.lastWidth = this.listWidth;\n            this.lastHeight = this.listHeight;\n        }\n\n        if (this._trackpad)\n        {\n            const maxWidth\n                = this._width\n                - (this.list?.width ?? 0)\n                - (this.list?.leftPadding ?? 0)\n                - (this.list?.rightPadding ?? 0);\n\n            const maxHeight\n                = this._height\n                - (this.list?.height ?? 0)\n                - (this.list?.topPadding ?? 0)\n                - (this.list?.bottomPadding ?? 0);\n\n            if (this.isBidirectional)\n            {\n                this._trackpad.yAxis.max = -Math.abs(maxHeight);\n                this._trackpad.xAxis.max = -Math.abs(maxWidth);\n            }\n            else if (this.isVertical)\n            {\n                this._trackpad.yAxis.max = -Math.abs(maxHeight);\n            }\n            else if (this.isHorizontal)\n            {\n                this._trackpad.xAxis.max = -Math.abs(maxWidth);\n            }\n        }\n\n        if (this._dimensionChanged)\n        {\n            this.list?.arrangeChildren();\n            // Since the scrolling adjustment can happen due to the resize,\n            // we shouldn't update the visible items immediately.\n            this.stopRenderHiddenItems();\n\n            this._dimensionChanged = false;\n        }\n        else\n        {\n            if (force) this.list?.arrangeChildren();\n            this.updateVisibleItems();\n        }\n\n        this.lastScrollX = undefined;\n        this.lastScrollY = undefined;\n    }\n\n    protected onMouseScroll(event: WheelEvent): void\n    {\n        if (!this.isOver && !this.options.globalScroll) return;\n\n        this.renderAllItems();\n\n        const shiftScroll = !!this.options.shiftScroll;\n        const scrollOnX = shiftScroll\n            ? typeof event.deltaX !== 'undefined' || typeof event.deltaY !== 'undefined'\n            : typeof event.deltaX !== 'undefined';\n        const scrollOnY = typeof event.deltaY !== 'undefined';\n\n        if ((this.isHorizontal || this.isBidirectional) && scrollOnX)\n        {\n            const delta = shiftScroll || this.isBidirectional ? event.deltaX : event.deltaY;\n            const targetPos = (this.list?.x ?? 0) - delta;\n\n            if (this.listWidth < this._width)\n            {\n                this._trackpad && (this._trackpad.xAxis.value = 0);\n            }\n            else\n            {\n                const min = this._width - this.listWidth;\n                const max = 0;\n\n                this._trackpad && (this._trackpad.xAxis.value = Math.min(max, Math.max(min, targetPos)));\n            }\n        }\n\n        if ((this.isVertical || this.isBidirectional) && scrollOnY)\n        {\n            const targetPos = (this.list?.y ?? 0) - event.deltaY;\n\n            if (this.listHeight < this._height)\n            {\n                this._trackpad && (this._trackpad.yAxis.value = 0);\n            }\n            else\n            {\n                const min = this._height - this.listHeight;\n                const max = 0;\n\n                this._trackpad && (this._trackpad.yAxis.value = Math.min(max, Math.max(min, targetPos)));\n            }\n        }\n\n        if (this.isBidirectional && (scrollOnX || scrollOnY))\n        {\n            this.onScroll?.emit({ x: this._trackpad?.xAxis.value ?? 0, y: this._trackpad?.yAxis.value ?? 0 });\n        }\n        else if (this.isHorizontal && scrollOnX)\n        {\n            this.onScroll?.emit(this._trackpad?.xAxis.value ?? 0);\n        }\n        else if (this.isVertical && scrollOnY)\n        {\n            this.onScroll?.emit(this._trackpad?.yAxis.value ?? 0);\n        }\n        this.stopRenderHiddenItems();\n    }\n\n    /** Makes it scroll down to the last element. */\n    scrollBottom()\n    {\n        if (!this.interactive)\n        {\n            this.scrollTop();\n        }\n        else\n        {\n            this.scrollTo((this.list?.children.length ?? 1) - 1);\n        }\n    }\n\n    /** Makes it scroll up to the first element. */\n    scrollTop()\n    {\n        this.renderAllItems();\n\n        if (this._trackpad)\n        {\n            this._trackpad.xAxis.value = 0;\n            this._trackpad.yAxis.value = 0;\n        }\n\n        this.stopRenderHiddenItems();\n    }\n\n    protected renderAllItems()\n    {\n        clearTimeout(this.stopRenderHiddenItemsTimeout);\n        this.stopRenderHiddenItemsTimeout = undefined;\n\n        if (this.options.disableDynamicRendering)\n        {\n            return;\n        }\n\n        this.items.forEach((child) =>\n        {\n            child.renderable = true;\n        });\n    }\n\n    protected stopRenderHiddenItems()\n    {\n        if (this.options.disableDynamicRendering)\n        {\n            return;\n        }\n\n        if (this.stopRenderHiddenItemsTimeout)\n        {\n            clearTimeout(this.stopRenderHiddenItemsTimeout);\n            this.stopRenderHiddenItemsTimeout = undefined;\n        }\n\n        this.stopRenderHiddenItemsTimeout = setTimeout(() => this.updateVisibleItems(), 2000);\n    }\n\n    protected updateVisibleItems()\n    {\n        this.visibleItems.length = 0;\n\n        this.items.forEach((child) =>\n        {\n            child.renderable = this.isItemVisible(child);\n            this.visibleItems.push(child);\n        });\n    }\n\n    /**\n     * Scrolls to the element with the given ID.\n     * @param elementID\n     */\n    scrollTo(elementID: number)\n    {\n        if (!this.interactive || !this._trackpad || !this.list)\n        {\n            return;\n        }\n\n        const target = this.list.children[elementID];\n\n        if (!target)\n        {\n            return;\n        }\n\n        this.renderAllItems();\n\n        this._trackpad.xAxis.value\n            = this.isHorizontal || this.isBidirectional\n                ? this._width - target.x - target.width - this.list.rightPadding\n                : 0;\n\n        this._trackpad.yAxis.value\n            = this.isVertical || this.isBidirectional\n                ? this._height - target.y - target.height - this.list.bottomPadding\n                : 0;\n\n        this.stopRenderHiddenItems();\n    }\n\n    /**\n     * Scrolls to the given position.\n     * @param position - x and y position object.\n     * @param position.x - x position.\n     * @param position.y - y position.\n     */\n    scrollToPosition({ x, y }: Partial<PointData>)\n    {\n        if (x === undefined && y === undefined) return;\n        this.renderAllItems();\n        if (x !== undefined) this.scrollX = -x;\n        if (y !== undefined) this.scrollY = -y;\n        this.stopRenderHiddenItems();\n    }\n\n    /** Gets component height. */\n    override get height(): number\n    {\n        return this._height;\n    }\n\n    override set height(value: number)\n    {\n        this._height = value;\n        this.options.height = value;\n        this._dimensionChanged = true;\n        this.resize();\n        this.scrollTop();\n    }\n\n    /** Gets component width. */\n    override get width(): number\n    {\n        return this._width;\n    }\n\n    override set width(value: number)\n    {\n        this._width = value;\n        this.options.width = value;\n        this._dimensionChanged = true;\n        this.resize();\n        this.scrollTop();\n    }\n\n    override setSize(value: number | Optional<Size, 'height'>, height?: number): void\n    {\n        if (typeof value === 'object')\n        {\n            height = value.height ?? value.width;\n            value = value.width;\n        }\n        else\n        {\n            height = height ?? value;\n        }\n\n        this._width = value;\n        this._height = height;\n        this.options.width = value;\n        this.options.height = height;\n        this._dimensionChanged = true;\n        this.resize();\n        this.scrollTop();\n    }\n\n    override getSize(out?: Size): Size\n    {\n        out = out || { width: 0, height: 0 };\n        out.width = this._width;\n        out.height = this._height;\n\n        return out;\n    }\n\n    /** Gets the current raw scroll position on the x-axis (Negated Value). */\n    get scrollX(): number\n    {\n        return this._trackpad?.xAxis.value ?? 0;\n    }\n\n    /** Sets the current raw scroll position on the x-axis (Negated Value). */\n    set scrollX(value: number)\n    {\n        if (this._trackpad) this._trackpad.xAxis.value = value;\n    }\n\n    /** Gets the current raw scroll position on the y-axis (Negated Value). */\n    get scrollY(): number\n    {\n        return this._trackpad?.yAxis.value ?? 0;\n    }\n\n    /** Sets the current raw scroll position on the y-axis (Negated Value). */\n    set scrollY(value: number)\n    {\n        if (this._trackpad) this._trackpad.yAxis.value = value;\n    }\n\n    protected update()\n    {\n        if (!this.list || !this._trackpad) return;\n\n        this._trackpad.update();\n\n        if (this.isHorizontal || this.isBidirectional)\n        {\n            if (this.list.x !== this._trackpad.x)\n            {\n                this.list.x = this._trackpad.x;\n            }\n        }\n\n        if (this.isVertical || this.isBidirectional)\n        {\n            if (this.list.y !== this._trackpad.y)\n            {\n                this.list.y = this._trackpad.y;\n            }\n        }\n\n        if (\n            !this.options.disableProximityCheck\n            && (this._trackpad.x !== this.lastScrollX || this._trackpad.y !== this.lastScrollY)\n        )\n        {\n            this.proximityCheckFrameCounter++;\n            if (this.proximityCheckFrameCounter >= (this.options.proximityDebounce ?? 10))\n            {\n                this.items.forEach((item, index) =>\n                {\n                    const inRange = this.isItemVisible(item, this.proximityRange);\n                    const wasInRange = this.proximityStatusCache[index];\n\n                    if (inRange !== wasInRange)\n                    {\n                        this.proximityStatusCache[index] = inRange;\n                        this.onProximityChange.emit({ item, index, inRange });\n                    }\n                });\n                this.lastScrollX = this._trackpad.x;\n                this.lastScrollY = this._trackpad.y;\n                this.proximityCheckFrameCounter = 0;\n            }\n        }\n    }\n\n    /**\n     * Destroys the component.\n     * @param {boolean | DestroyOptions} [options] - Options parameter.\n     * A boolean will act as if all options have been set to that value\n     */\n    override destroy(options?: DestroyOptions | boolean)\n    {\n        this.ticker.remove(this.update, this);\n\n        document.removeEventListener('wheel', this.onMouseScrollBinding, true);\n\n        this.background?.destroy();\n        this.list?.destroy();\n\n        super.destroy(options);\n    }\n\n    protected restoreItemsInteractivity()\n    {\n        this.interactiveStorage.forEach((element) =>\n        {\n            element.item.eventMode = element.eventMode;\n        });\n\n        this.interactiveStorage.length = 0;\n    }\n\n    protected revertClick(item: Container)\n    {\n        if (item.eventMode !== 'auto')\n        {\n            if (isMobile.any)\n            {\n                item.emit('pointerupoutside', { target: item } as FederatedPointerEvent);\n            }\n            else\n            {\n                item.emit('mouseupoutside', { target: item } as FederatedPointerEvent);\n            }\n\n            this.interactiveStorage.push({\n                item,\n                eventMode: item.eventMode ?? 'auto',\n            });\n\n            item.eventMode = 'auto';\n        }\n\n        // need to disable click for all children too\n        if (item instanceof Container && item.children)\n        {\n            item.children.forEach((child) => this.revertClick(child));\n        }\n    }\n\n    get scrollHeight(): number\n    {\n        return this.list?.height ?? 0;\n    }\n\n    get scrollWidth(): number\n    {\n        return this.list?.width ?? 0;\n    }\n\n    protected get isVertical(): boolean\n    {\n        const type = this.options.type ?? 'vertical';\n\n        return type === 'vertical';\n    }\n\n    protected get isHorizontal(): boolean\n    {\n        return this.options.type === 'horizontal';\n    }\n\n    protected get isBidirectional(): boolean\n    {\n        return this.options.type === 'bidirectional';\n    }\n}\n","import { Container, Graphics, NineSliceSprite, ObservablePoint, Sprite, Texture, Ticker } from 'pixi.js';\nimport { Group, Tween } from 'tweedle.js';\nimport { Signal } from 'typed-signals';\nimport { Button } from './Button';\nimport { type ButtonOptions, FancyButton } from './FancyButton';\nimport { List, type ListOptions } from './List';\nimport { ScrollBox, ScrollBoxOptions } from './ScrollBox';\nimport { AnyText, getTextView, PixiText } from './utils/helpers/text';\nimport { getView, type GetViewSettings } from './utils/helpers/view';\n\ntype Animation = {\n    props: Record<string, any>;\n    duration?: number;\n};\n\nexport type DialogOptions = {\n    backdrop?: GetViewSettings;\n    backdropColor?: number;\n    backdropAlpha?: number;\n    background: GetViewSettings;\n    title?: AnyText;\n    content?: AnyText | Container | Container[];\n    width?: number;\n    height?: number;\n    padding?: number;\n    buttons?: (ButtonOptions | FancyButton | Button)[];\n    buttonList?: ListOptions<Container>;\n    scrollBox?: ScrollBoxOptions;\n    animations?: {\n        open?: Animation;\n        close?: Animation;\n    };\n    closeOnBackdropClick?: boolean;\n    nineSliceSprite?: [number, number, number, number];\n};\n\n/**\n * Modal dialog component for asking users questions.\n * @example\n * const dialog = new Dialog({\n *     background: new Graphics().roundRect(0, 0, 400, 200, 20).fill(0xFFFFFF),\n *     title: 'Confirm',\n *     content: 'Are you sure?',\n *     buttons: [\n *         { text: 'Cancel' },\n *         { text: 'OK' }\n *     ]\n * });\n * dialog.onSelect.connect((index, text) => {\n *     console.log(`Button ${index} clicked: ${text}`);\n * });\n * dialog.open();\n */\nexport class Dialog extends Container\n{\n    protected backdrop: Container;\n    protected innerView?: Container | NineSliceSprite;\n    protected contentView: Container;\n    protected titleText?: PixiText;\n    protected contentBody?: Container;\n    protected scrollBox: ScrollBox;\n    protected buttonContainer: List;\n\n    protected readonly options: DialogOptions;\n\n    protected _isOpen: boolean = false;\n\n    /** Signal emitted when a button is selected. */\n    onSelect: Signal<(buttonIndex: number, buttonText: string) => void>;\n    /** Signal emitted when the dialog is closed. */\n    onClose: Signal<() => void>;\n\n    /**\n     * Modal dialog component for asking users questions.\n     * @param {DialogOptions} options - Configuration options for the dialog.\n     * @param {string | Texture | Container | Sprite | Graphics} options.backdrop - Backdrop view or settings.\n     * @param {number} options.backdropColor - Color of the backdrop (if backdrop is not provided).\n     * @param {number} options.backdropAlpha - Alpha of the backdrop (if backdrop is not provided).\n     * @param {string | Texture | Container | Sprite | Graphics} options.background -\n     * Background view or settings for the dialog.\n     * @param {string | Texture | Container | Sprite | Graphics} options.title -\n     * Title text or settings for the dialog.\n     * @param {string | Texture | Container | Sprite | Graphics | Container[]} options.content -\n     * Content text, view, or array of views for the dialog.\n     * @param {number} options.width - Width of the dialog.\n     * @param {number} options.height - Height of the dialog.\n     * @param {number} options.padding - Padding around the dialog content.\n     * @param {(ButtonOptions | FancyButton | Button)[]} options.buttons - Array of button configurations or instances.\n     * @param {ListOptions<Container>} options.buttonList - Configuration options for the button list layout.\n     * @param {ScrollBoxOptions} options.scrollBox - Configuration options for the scroll box containing the content.\n     * @param {object} options.animations - Animation settings for opening and closing the dialog.\n     * @param {Animation} options.animations.open - Animation settings for opening the dialog.\n     * @param {Animation} options.animations.close - Animation settings for closing the dialog.\n     * @param {boolean} options.closeOnBackdropClick - Whether to close the dialog when clicking on the backdrop.\n     * @param {[number, number, number, number]} options.nineSliceSprite - Nine-slice scaling settings for the background.\n     */\n    constructor(options: DialogOptions)\n    {\n        super();\n\n        this.options = options;\n        this.onSelect = new Signal();\n        this.onClose = new Signal();\n\n        this.backdrop = new Container();\n        this.contentView = new Container();\n        this.buttonContainer = new List({\n            type: 'horizontal',\n            elementsMargin: 10,\n            ...options.buttonList,\n        });\n\n        this.initBackdrop();\n        this.initInnerView();\n        this.initTitle();\n        this.initButtons();\n\n        const offset = this.dialogPadding;\n        const { width } = this.options;\n        let { height } = this.options;\n\n        if (height)\n        {\n            height = height - (offset * 2) - this.buttonContainer.height;\n\n            if (this.titleText?.height)\n            {\n                height -= this.titleText.height;\n            }\n        }\n\n        this.scrollBox = new ScrollBox({\n            background: 0x000000,\n            elementsMargin: 10,\n            radius: 0,\n            type: 'bidirectional',\n            padding: 10,\n            ...this.options.scrollBox,\n            width: width ? width - (offset * 2) : 0,\n            height,\n        });\n\n        this.innerView?.addChild(this.scrollBox);\n\n        this.visible = false;\n\n        this.initContent();\n\n        // Setup ticker for tween animations\n        Ticker.shared.add(() => Group.shared.update());\n    }\n\n    /** Gets the dialog width from options or innerView. */\n    protected get dialogWidth(): number\n    {\n        return this.options.width ?? this.innerView?.width ?? 0;\n    }\n\n    /** Gets the dialog height from options or innerView. */\n    protected get dialogHeight(): number\n    {\n        return this.options.height ?? this.innerView?.height ?? 0;\n    }\n\n    /** Gets the dialog padding from options. */\n    protected get dialogPadding(): number\n    {\n        return this.options.padding ?? 20;\n    }\n\n    /** Gets the open state of the dialog. */\n    get isOpen(): boolean\n    {\n        return this._isOpen;\n    }\n\n    /** Initializes the backdrop (semi-transparent background). */\n    protected initBackdrop(): void\n    {\n        if (this.options.backdrop)\n        {\n            this.backdrop = getView(this.options.backdrop);\n        }\n        else\n        {\n            const backdropSprite = new Sprite(Texture.WHITE);\n\n            backdropSprite.tint = this.options.backdropColor ?? 0x000000;\n            backdropSprite.alpha = this.options.backdropAlpha ?? 0.5;\n            backdropSprite.width = 10000;\n            backdropSprite.height = 10000;\n            this.backdrop = backdropSprite;\n        }\n\n        this.backdrop.eventMode = 'static';\n        this.backdrop.x = -5000;\n        this.backdrop.y = -5000;\n\n        if (this.options.closeOnBackdropClick)\n        {\n            this.backdrop.on('pointertap', () => this.close());\n        }\n\n        this.addChild(this.backdrop);\n    }\n\n    /** Initializes the inner view (background panel). */\n    protected initInnerView(): void\n    {\n        const { background, nineSliceSprite } = this.options;\n\n        if (nineSliceSprite)\n        {\n            if (typeof background === 'string')\n            {\n                this.innerView = new NineSliceSprite({\n                    texture: Texture.from(background),\n                    leftWidth: nineSliceSprite[0],\n                    topHeight: nineSliceSprite[1],\n                    rightWidth: nineSliceSprite[2],\n                    bottomHeight: nineSliceSprite[3],\n                });\n            }\n            else if (background instanceof Texture)\n            {\n                this.innerView = new NineSliceSprite({\n                    texture: background,\n                    leftWidth: nineSliceSprite[0],\n                    topHeight: nineSliceSprite[1],\n                    rightWidth: nineSliceSprite[2],\n                    bottomHeight: nineSliceSprite[3],\n                });\n            }\n            else\n            {\n                console.warn(\n                    'NineSliceSprite can not be used with views set as Container. '\n                    + 'Pass the texture or texture name as instead of the Container extended instance.',\n                );\n                this.innerView = getView(background);\n            }\n        }\n        else\n        {\n            this.innerView = getView(background);\n        }\n\n        if (this.options.width && this.options.height)\n        {\n            if (this.innerView instanceof NineSliceSprite)\n            {\n                this.innerView.width = this.options.width;\n                this.innerView.height = this.options.height;\n            }\n            else if (this.innerView instanceof Graphics)\n            {\n                this.innerView.width = this.options.width;\n                this.innerView.height = this.options.height;\n            }\n        }\n\n        if ('anchor' in this.innerView)\n        {\n            (this.innerView.anchor as ObservablePoint).set(0.5, 0.5);\n        }\n        else\n        {\n            this.innerView.pivot.set(this.dialogWidth / 2, this.dialogHeight / 2);\n        }\n\n        this.innerView.eventMode = 'static';\n\n        this.addChild(this.innerView);\n        this.innerView.addChild(this.contentView);\n    }\n\n    /** Initializes the title text if provided. */\n    protected initTitle(): void\n    {\n        if (!this.options.title) return;\n\n        this.titleText = getTextView(this.options.title);\n        if ('anchor' in this.titleText)\n        {\n            (this.titleText.anchor as ObservablePoint).set(0.5, 0);\n        }\n\n        this.titleText.x = this.dialogWidth / 2;\n        this.titleText.y = this.dialogPadding;\n\n        this.contentView.addChild(this.titleText);\n    }\n\n    /** Initializes the content area, optionally wrapped in ScrollBox. */\n    protected initContent(): void\n    {\n        if (!this.options.content) return;\n\n        let yOffset = this.dialogPadding;\n\n        if (this.titleText)\n        {\n            yOffset += this.titleText.height;\n        }\n\n        if (typeof this.options.content === 'string' || typeof this.options.content === 'number')\n        {\n            const textView = getTextView(this.options.content);\n\n            this.scrollBox.addItem(textView);\n        }\n        else\n            if (Array.isArray(this.options.content))\n            {\n                this.options.content.forEach((item) => this.scrollBox.addItem(item));\n            }\n            else\n            {\n                this.scrollBox.addItem(this.options.content);\n            }\n\n        this.scrollBox.x = this.dialogPadding;\n        this.scrollBox.y = yOffset;\n\n        this.contentView.addChild(this.scrollBox);\n    }\n\n    /** Initializes the buttons at the bottom of the dialog. */\n    protected initButtons(): void\n    {\n        if (!this.options.buttons || this.options.buttons.length === 0)\n        {\n            return;\n        }\n\n        const buttonConfigs = this.options.buttons;\n\n        buttonConfigs.forEach((btn, index) =>\n        {\n            let button: Button | FancyButton;\n\n            switch (true)\n            {\n                case btn instanceof Button:\n                    btn.onPress.connect(() =>\n                    {\n                        this.onSelect.emit(index, '');\n                    });\n\n                    if (btn.view)\n                    {\n                        this.buttonContainer.addChild(btn.view);\n                    }\n                    break;\n                case btn instanceof FancyButton:\n                    btn.onPress.connect(() =>\n                    {\n                        this.onSelect.emit(index, (btn as FancyButton).text ?? '');\n                    });\n                    this.buttonContainer.addChild(btn);\n                    break;\n\n                default:\n                    button = new FancyButton(btn);\n\n                    button.onPress.connect(() =>\n                    {\n                        this.onSelect.emit(index, (button as FancyButton).text ?? '');\n                    });\n                    this.buttonContainer.addChild(button);\n                    break;\n            }\n        });\n\n        this.buttonContainer.x = (this.dialogWidth / 2) - (this.buttonContainer.width / 2);\n        this.buttonContainer.y = this.dialogHeight - this.dialogPadding - this.buttonContainer.height;\n\n        this.contentView.addChild(this.buttonContainer);\n    }\n\n    /** Opens the dialog with animation. */\n    open(): void\n    {\n        if (!this.innerView) return;\n\n        this.visible = true;\n        this._isOpen = true;\n\n        const openAnimation = this.options.animations?.open;\n\n        if (!openAnimation)\n        {\n            // No animation - set immediately\n            this.backdrop.alpha = this.options.backdropAlpha ?? 0.5;\n            this.innerView.scale.set(1);\n\n            return;\n        }\n\n        // Use animation\n        this.backdrop.alpha = 0;\n        this.innerView.scale.set(0.8);\n\n        const duration = openAnimation.duration ?? 300;\n\n        new Tween(this.backdrop)\n            .to({ alpha: this.options.backdropAlpha ?? 0.5 }, duration)\n            .start();\n\n        new Tween(this.innerView.scale)\n            .to({ x: 1, y: 1 }, duration)\n            .start();\n    }\n\n    /** Closes the dialog with animation. */\n    close(): void\n    {\n        if (!this.innerView) return;\n\n        const closeAnimation = this.options.animations?.close;\n\n        if (!closeAnimation)\n        {\n            // No animation - set immediately\n            this.visible = false;\n            this._isOpen = false;\n\n            this.onClose.emit();\n\n            return;\n        }\n\n        // Use animation\n        const duration = closeAnimation.duration ?? 300;\n\n        new Tween(this.backdrop)\n            .to({ alpha: 0 }, duration)\n            .start();\n\n        new Tween(this.innerView.scale)\n            .to({ x: 0.8, y: 0.8 }, duration)\n            .onComplete(() =>\n            {\n                this.visible = false;\n                this._isOpen = false;\n                this.onClose.emit();\n            })\n            .start();\n    }\n\n    /** Shows the dialog (alias for open). */\n    show(): void\n    {\n        this.open();\n    }\n\n    /** Hides the dialog (alias for close). */\n    hide(): void\n    {\n        this.close();\n    }\n}\n","import {\n    Container,\n    Graphics,\n    NineSliceSprite as PixiNineSliceSprite,\n    Optional,\n    Size,\n    Sprite,\n    Texture,\n} from 'pixi.js';\nimport { getView, type GetViewSettings } from './utils/helpers/view';\n\ntype FillPaddings = {\n    top?: number;\n    right?: number;\n    bottom?: number;\n    left?: number;\n};\n\nexport type ProgressBarViewType = GetViewSettings;\nexport type NineSliceSprite = {\n    bg: [number, number, number, number];\n    fill: [number, number, number, number];\n};\n\nexport type ProgressBarOptions = {\n    bg: ProgressBarViewType;\n    fill: ProgressBarViewType;\n    fillPaddings?: FillPaddings;\n    nineSliceSprite?: NineSliceSprite;\n    progress?: number;\n};\n\n/**\n * Creates a ProgressBar.\n * @example\n * new ProgressBar({\n *     bg: 'slider_bg.png',\n *     fill: 'slider.png',\n *     progress: 50,\n * });\n */\nexport class ProgressBar extends Container\n{\n    protected bg!: Sprite | PixiNineSliceSprite | Graphics;\n    protected fill!: Sprite | PixiNineSliceSprite | Graphics;\n    protected fillMask!: PixiNineSliceSprite | Graphics;\n    protected progressStart = 0;\n    protected _progress = 0;\n\n    protected options: ProgressBarOptions;\n\n    /** Container, that holds all inner views. */\n    innerView: Container;\n\n    /**\n     * Creates a ProgressBar.\n     * @param options - Options.\n     * @param { Sprite | Graphics | Texture | string } options.bg - Background of the ProgressBar.\n     * <br> If you pass a string, it will be used as a texture name.\n     * <br> If you want to use NineSliceSprite, you have to pass a text\n     * (name of texture) or an instance of Texture as a parameter here.\n     * @param { Sprite | Graphics | Texture | string } options.fill - Fill of the ProgressBar.\n     * <br> If you pass a string, it will be used as a texture name.\n     * <br> If you want to use NineSliceSprite, you have to pass a text\n     * (name of texture) or an instance of Texture as a parameter here.\n     * @param { FillPaddings } options.fillPaddings - Fill offsets.\n     * @param { number } options.fillPaddings.top - Fill top offset.\n     * @param { number } options.fillPaddings.right - Fill right offset.\n     * @param { number } options.fillPaddings.bottom - Fill bottom offset.\n     * @param { number } options.fillPaddings.left - Fill left offset.\n     * @param { NineSliceSprite } options.nineSliceSprite - NineSliceSprite values for bg and fill.\n     * @param { Array } options.nineSliceSprite.bg - NineSliceSprite config for bg ([number, number, number, number]).\n     * <br> <b>!!! IMPORTANT:</b> To make it work, you have to pass a bg parameter as texture name or texture instance.\n     * @param { Array } options.nineSliceSprite.fill - NineSliceSprite config fill ([number, number, number, number]).\n     * <br> <b>!!! IMPORTANT:</b> To make it work, you have to pass a fill parameter as texture name or texture instance.\n     * @param { number } options.progress - Initial progress value.\n     */\n    constructor(options?: ProgressBarOptions)\n    {\n        super();\n\n        const defaultOptions: ProgressBarOptions = {\n            bg: Texture.WHITE,\n            fill: Texture.WHITE,\n            fillPaddings: {\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0,\n            },\n            progress: 0,\n        };\n\n        this.options = { ...defaultOptions, ...options };\n\n        this.innerView = new Container();\n        this.addChild(this.innerView);\n\n        this.init(this.options);\n    }\n\n    /**\n     * Initialize ProgressBar.\n     * @param root0\n     * @param root0.bg - Background texture.\n     * @param root0.fill - Fill texture.\n     * @param root0.fillPaddings - Fill offset.\n     * @param root0.progress - Initial progress value.\n     */\n    init({ bg, fill, fillPaddings, progress }: ProgressBarOptions)\n    {\n        this.setBackground(bg);\n\n        this.setFill(fill, fillPaddings);\n\n        this.progress = progress ?? 0;\n    }\n\n    /**\n     * Set bg.\n     * @param bg\n     */\n    setBackground(bg: ProgressBarViewType)\n    {\n        if (this.bg)\n        {\n            this.bg.destroy();\n        }\n\n        if (this.options?.nineSliceSprite)\n        {\n            if (typeof bg === 'string')\n            {\n                this.bg = new PixiNineSliceSprite({\n                    texture: Texture.from(bg),\n                    leftWidth: this.options.nineSliceSprite.bg[0],\n                    topHeight: this.options.nineSliceSprite.bg[1],\n                    rightWidth: this.options.nineSliceSprite.bg[2],\n                    bottomHeight: this.options.nineSliceSprite.bg[3],\n                });\n            }\n            else if (bg instanceof Texture)\n            {\n                this.bg = new PixiNineSliceSprite({\n                    texture: bg,\n                    leftWidth: this.options.nineSliceSprite.bg[0],\n                    topHeight: this.options.nineSliceSprite.bg[1],\n                    rightWidth: this.options.nineSliceSprite.bg[2],\n                    bottomHeight: this.options.nineSliceSprite.bg[3],\n                });\n            }\n            else\n            {\n                console.warn(`NineSliceSprite can not be used with views set as Container.\n                    Pass the texture or texture name as instead of the Container extended instance.`);\n            }\n        }\n\n        if (!this.bg)\n        {\n            this.bg = getView(bg) as Sprite | Graphics;\n        }\n\n        this.innerView.addChildAt(this.bg, 0);\n    }\n\n    /**\n     * Set fill.\n     * @param fill\n     * @param fillPadding\n     */\n    setFill(fill: ProgressBarViewType, fillPadding?: FillPaddings)\n    {\n        if (this.fill)\n        {\n            this.fill.destroy();\n        }\n\n        // in case if user is trying to use same instance for bg and fill\n        if (this.bg instanceof Sprite && fill === this.bg)\n        {\n            console.warn('Can not use same Sprite instance for bg and fill.');\n\n            return;\n        }\n\n        if (this.options?.nineSliceSprite)\n        {\n            if (typeof fill === 'string' || fill instanceof Texture)\n            {\n                this.fill = new PixiNineSliceSprite({\n                    texture: typeof fill === 'string' ? Texture.from(fill) : fill,\n                    leftWidth: this.options.nineSliceSprite.fill[0],\n                    topHeight: this.options.nineSliceSprite.fill[1],\n                    rightWidth: this.options.nineSliceSprite.fill[2],\n                    bottomHeight: this.options.nineSliceSprite.fill[3],\n                });\n            }\n            else\n            {\n                console.warn(`NineSliceSprite can not be used with views set as Container.\n                    Pass the texture or texture name as instead of the Container extended instance.`);\n                this.fill = getView(fill) as Sprite | Graphics;\n            }\n        }\n        else\n        {\n            this.fill = getView(fill) as Sprite | Graphics;\n        }\n\n        this.innerView.addChildAt(this.fill, 1);\n\n        const offsetX = fillPadding?.left ?? 0;\n        const offsetY = fillPadding?.top ?? 0;\n\n        this.fill.x = offsetX;\n        this.fill.y = offsetY;\n\n        if (this.fillMask)\n        {\n            this.fill.mask = null;\n            this.fillMask.destroy();\n        }\n\n        const leftWidth = this.fill.width / 2;\n        const rightWidth = this.fill.width / 2;\n        const topHeight = this.fill.height / 2;\n        const bottomHeight = this.fill.height / 2;\n\n        let texture: Texture = Texture.WHITE;\n\n        if (this.fill instanceof Sprite && this.fill.texture)\n        {\n            texture = this.fill.texture;\n        }\n\n        this.fillMask = new PixiNineSliceSprite({\n            texture,\n            leftWidth,\n            topHeight,\n            rightWidth,\n            bottomHeight,\n        });\n        this.fillMask.position.copyFrom(this.fill);\n\n        this.addChild(this.fillMask);\n        this.fill.mask = this.fillMask;\n    }\n\n    protected validate(progress: number): number\n    {\n        progress = Math.round(progress);\n\n        if (progress < 0)\n        {\n            return 0;\n        }\n\n        if (progress > 100)\n        {\n            return 100;\n        }\n\n        return progress;\n    }\n\n    /** Set current progress percentage value. */\n    set progress(progress: number)\n    {\n        this._progress = this.validate(progress);\n\n        if (!this.fill) return;\n\n        if (this.fillMask)\n        {\n            this.fill.mask = null;\n            this.fillMask.width = (this.fill.width / 100) * (this._progress - this.progressStart);\n            this.fillMask.x = ((this.progressStart / 100) * this.fill.width) + this.fill.x;\n            this.fillMask.height = this.fill.height;\n            this.fill.mask = this.fillMask;\n        }\n    }\n\n    /** Return current progress percentage value. */\n    get progress(): number\n    {\n        return this._progress;\n    }\n\n    /**\n     * Sets width of a ProgressBars background and fill.\n     * If nineSliceSprite is set, then width will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then width will control components width as Container.\n     * @param width - Width value.\n     */\n    override set width(width: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this.bg)\n            {\n                this.bg.width = width;\n            }\n\n            if (this.fill)\n            {\n                const leftPadding = this.options.fillPaddings?.left ?? 0;\n                const rightPadding = this.options.fillPaddings?.right ?? 0;\n\n                this.fill.width = width - leftPadding - rightPadding;\n                this.fillMask.width = width - leftPadding - rightPadding;\n            }\n\n            this.progress = this._progress;\n        }\n        else\n        {\n            super.width = width;\n        }\n    }\n\n    /** Gets width of a ProgressBar. */\n    override get width(): number\n    {\n        return super.width;\n    }\n\n    /**\n     * Sets height of a ProgressBars background and fill.\n     * If nineSliceSprite is set, then height will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then height will control components height as Container.\n     * @param height - Height value.\n     */\n    override set height(height: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this.bg)\n            {\n                this.bg.height = height;\n            }\n\n            if (this.fill)\n            {\n                const topPadding = this.options.fillPaddings?.top ?? 0;\n                const bottomPadding = this.options.fillPaddings?.bottom ?? 0;\n\n                this.fill.height = height - topPadding - bottomPadding;\n                this.fillMask.height = height - topPadding - bottomPadding;\n            }\n\n            this.progress = this._progress;\n        }\n        else\n        {\n            super.height = height;\n        }\n    }\n\n    /** Gets height of a ProgressBar. */\n    override get height(): number\n    {\n        return super.height;\n    }\n\n    override setSize(value: number | Optional<Size, 'height'>, height?: number): void\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this.bg)\n            {\n                this.bg.setSize(value, height);\n            }\n\n            if (this.fill)\n            {\n                if (typeof value === 'object')\n                {\n                    height = value.height ?? value.width;\n                    value = value.width;\n                }\n                else\n                {\n                    height = height ?? value;\n                }\n\n                const topPadding = this.options.fillPaddings?.top ?? 0;\n                const bottomPadding = this.options.fillPaddings?.bottom ?? 0;\n                const leftPadding = this.options.fillPaddings?.left ?? 0;\n                const rightPadding = this.options.fillPaddings?.right ?? 0;\n\n                this.fill.setSize(\n                    value - leftPadding - rightPadding,\n                    height - topPadding - bottomPadding,\n                );\n                this.fillMask.setSize(\n                    value - leftPadding - rightPadding,\n                    height - topPadding - bottomPadding,\n                );\n            }\n\n            this.progress = this._progress;\n        }\n        else\n        {\n            super.setSize(value, height);\n        }\n    }\n}\n","import { Container, FederatedPointerEvent, Sprite, Text, Texture } from 'pixi.js';\nimport { ProgressBar, ProgressBarOptions, ProgressBarViewType } from './ProgressBar';\nimport { PixiText, PixiTextClass, PixiTextStyle } from './utils/helpers/text';\nimport { getView, type GetViewSettings } from './utils/helpers/view';\n\nimport type { DragObject } from './utils/HelpTypes';\n\nexport type BaseSliderOptions = ProgressBarOptions & {\n    min?: number;\n    max?: number;\n    valueTextStyle?: PixiTextStyle;\n    valueTextClass?: PixiTextClass;\n    showValue?: boolean;\n    valueTextOffset?: {\n        x?: number;\n        y?: number;\n    };\n};\n\nexport type DoubleSliderOptions = BaseSliderOptions & {\n    slider1?: Container | string;\n    slider2?: Container | string;\n\n    value1?: number;\n    value2?: number;\n};\n\n/** Hepper class, used as a base for single or double slider creation. */\nexport class SliderBase extends ProgressBar\n{\n    protected _slider1: Container | undefined;\n    protected _slider2: Container | undefined;\n\n    protected value1Text?: PixiText;\n    protected value2Text?: PixiText;\n\n    protected _value1: number = 0;\n    protected _value2: number = 0;\n\n    protected dragging = 0;\n\n    /** Minimal value. */\n    protected _min = 0;\n\n    /** Maximal value. */\n    protected _max = 100;\n\n    /** Progress value step */\n    protected _step = 1;\n\n    protected startX!: number;\n    protected startUpdateValue1!: number;\n    protected startUpdateValue2!: number;\n\n    protected settings: DoubleSliderOptions;\n\n    constructor(options: DoubleSliderOptions)\n    {\n        super(options);\n\n        this.settings = options;\n\n        if (options.slider1)\n        {\n            this.slider1 = options.slider1;\n        }\n        if (options.slider2)\n        {\n            this.slider2 = options.slider2;\n        }\n\n        this.min = options.min ?? 0;\n        this.max = options.max ?? 100;\n    }\n\n    override init(progressBarOptions: ProgressBarOptions)\n    {\n        super.init(progressBarOptions);\n\n        if (this.fill)\n        {\n            this.fill.eventMode = 'none';\n        }\n    }\n\n    /**\n     * Sets Slider1 instance.\n     * @param value - Container or string with texture name.\n     */\n    set slider1(value: Container | Texture | string)\n    {\n        if (!value) return;\n\n        if (this._slider1)\n        {\n            this._slider1.removeAllListeners();\n            this._slider1.destroy();\n        }\n\n        this._slider1 = this.createSlider(value);\n\n        if (this.settings.showValue && !this.value1Text)\n        {\n            const TextClass = this.settings.valueTextClass ?? Text;\n\n            this.value1Text = new TextClass({\n                text: '',\n                style: this.settings.valueTextStyle || { fill: 0xffffff },\n            });\n            this.value1Text.anchor.set(0.5);\n            this.addChild(this.value1Text);\n        }\n    }\n\n    /** Get Slider1 instance. */\n    get slider1(): Container | undefined\n    {\n        return this._slider1;\n    }\n\n    /**\n     * Sets Slider2 instance.\n     * @param value - Container or string with texture name.\n     */\n    set slider2(value: Container | string)\n    {\n        if (!value) return;\n\n        if (this._slider2)\n        {\n            this._slider2.removeAllListeners();\n            this._slider2.destroy();\n        }\n\n        this._slider2 = this.createSlider(value);\n\n        if (this.settings.showValue && !this.value2Text)\n        {\n            const TextClass = this.settings.valueTextClass ?? Text;\n\n            this.value2Text = new TextClass({\n                text: '',\n                style: this.settings.valueTextStyle || { fill: 0xffffff },\n            });\n            this.value2Text.anchor.set(0.5);\n            this.addChild(this.value2Text);\n        }\n    }\n\n    /** Get Slider2 instance. */\n    get slider2(): Container | undefined\n    {\n        return this._slider2;\n    }\n\n    /**\n     * Set bg.\n     * @param bg\n     */\n    override setBackground(bg: ProgressBarViewType)\n    {\n        if (this.bg)\n        {\n            this.bg.removeAllListeners();\n        }\n\n        super.setBackground(bg);\n\n        this.activateBG();\n    }\n\n    protected activateBG()\n    {\n        this.bg.eventMode = 'static';\n        this.bg\n            .on('pointerdown', this.startUpdate, this)\n            .on('globalpointermove', this.update, this)\n            .on('pointerup', this.endUpdate, this)\n            .on('pointerupoutside', this.endUpdate, this);\n    }\n\n    protected createSlider(sliderData: GetViewSettings): Container\n    {\n        const slider = getView(sliderData);\n        const onPointerDown = (event: FederatedPointerEvent) =>\n        {\n            // This is needed to do proper calculations in update method calls\n            if (this.bg)\n            {\n                event.currentTarget = this.bg;\n            }\n            this.startUpdate(event);\n        };\n\n        slider.eventMode = 'static';\n        slider\n            .on('pointerdown', onPointerDown)\n            .on('pointerup', this.endUpdate, this)\n            .on('pointerupoutside', this.endUpdate, this);\n        slider.x = slider.width / 2;\n\n        const container = new Container();\n\n        container.addChild(slider);\n\n        if (slider instanceof Sprite)\n        {\n            slider.anchor.set(0.5);\n        }\n\n        container.y = this.bg?.height ? this.bg?.height / 2 : 0;\n\n        this.addChild(container);\n\n        return container;\n    }\n\n    protected startUpdate(event: FederatedPointerEvent)\n    {\n        this.dragging = 1;\n\n        const obj = event.currentTarget as DragObject;\n\n        this.startX = obj.parent!.worldTransform.applyInverse(event.global).x;\n\n        this.startUpdateValue1 = this._value1;\n        this.startUpdateValue2 = this._value2;\n        this.update(event);\n    }\n\n    protected endUpdate()\n    {\n        if (!this.dragging) return;\n        this.dragging = 0;\n\n        if (\n            !!this.startX\n            || this.startUpdateValue1 !== this._value1\n            || this.startUpdateValue2 !== this._value2\n        )\n        {\n            this.change();\n        }\n\n        this.startUpdateValue1 = 0;\n        this.startUpdateValue2 = 0;\n    }\n\n    protected onClick()\n    {\n        this.change();\n    }\n\n    /* Called when dragging started and on every move. */\n    protected update(_event: FederatedPointerEvent)\n    {\n        const obj = _event.currentTarget as DragObject;\n\n        const { x } = obj.parent!.worldTransform.applyInverse(_event.global);\n\n        if (x !== this.startX)\n        {\n            this.startX = 0;\n        }\n    }\n\n    /** Called when dragging stopped. */\n    protected change()\n    {\n        // override me\n    }\n\n    /**\n     * Set max value.\n     * @param value\n     */\n    set max(value: number)\n    {\n        this._max = value;\n    }\n\n    /** Get max value. */\n    get max(): number\n    {\n        return this._max;\n    }\n\n    /**\n     * Set min value.\n     * @param value\n     */\n    set min(value: number)\n    {\n        this._min = value;\n    }\n\n    /** Get min value. */\n    get min(): number\n    {\n        return this._min;\n    }\n\n    /**\n     * Set step value.\n     * @param value\n     */\n    set step(value: number)\n    {\n        this._step = value;\n    }\n\n    /** Get step value. */\n    get step(): number\n    {\n        return this._step;\n    }\n}\n","import { Container, FederatedPointerEvent, Optional, Size, Texture } from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { DoubleSliderOptions, SliderBase } from './SliderBase';\n\nimport type { DragObject } from './utils/HelpTypes';\n\n/**\n * Creates a slider with range selection option.\n * @example\n * const doubleSlider = new DoubleSlider({\n *      bg: 'slider_bg.png',\n *      fill: 'slider_progress.png',\n *      slider1: 'slider.png',\n *      slider2: 'slider.png',\n *  });\n *\n * doubleSlider.onChange.connect((value1, value2) =>\n *     console.log(`New slider range ${value1} - ${value2}`)S\n * );\n */\n\nexport class DoubleSlider extends SliderBase\n{\n    protected sliderOptions: DoubleSliderOptions;\n\n    protected activeValue: 'value1' | 'value2' | undefined;\n\n    /** Signal that fires when value have changed. */\n    onChange: Signal<(value1: number, value2: number) => void> = new Signal();\n\n    /** Signal that fires when value is changing. */\n    onUpdate: Signal<(value1: number, value2: number) => void> = new Signal();\n\n    constructor(options: DoubleSliderOptions)\n    {\n        super(options);\n\n        this.sliderOptions = options;\n        this.setInitialState();\n    }\n\n    protected setInitialState()\n    {\n        this.validateValues();\n\n        const { value1, value2 } = this.sliderOptions;\n\n        this.updateProgress(value1, value2);\n\n        this.value2 = value2 ?? 0;\n        this.value1 = value1 ?? 0;\n    }\n\n    protected updateProgress(value1 = this.value1, value2 = this.value2)\n    {\n        this.progressStart = ((value1 - this.min) / (this.max - this.min)) * 100;\n        this.progress = ((value2 - this.min) / (this.max - this.min)) * 100;\n    }\n\n    protected validateValues()\n    {\n        const min = this.sliderOptions.min ?? this.min;\n        const max = this.sliderOptions.max ?? this.max;\n\n        // Initialize missing values with safe defaults\n        if (!this.sliderOptions.value1)\n        {\n            this.sliderOptions.value1 = min;\n        }\n\n        if (!this.sliderOptions.value2)\n        {\n            this.sliderOptions.value2 = max;\n        }\n\n        let value1 = this.sliderOptions.value1 ?? min;\n        let value2 = this.sliderOptions.value2 ?? max;\n\n        // Ensure value2 is not less than value1\n        if (value2 < value1)\n        {\n            value2 = value1;\n        }\n\n        // Clamp values to min/max bounds\n        if (value1 < min)\n        {\n            value1 = min;\n        }\n\n        if (value1 > max)\n        {\n            value1 = max;\n        }\n\n        if (value2 > max)\n        {\n            value2 = max;\n        }\n\n        this.sliderOptions.value1 = value1;\n        this.sliderOptions.value2 = value2;\n    }\n\n    /** Returns left value. */\n    get value1(): number\n    {\n        return this._value1;\n    }\n\n    /** Sets left value. */\n    set value1(value1: number)\n    {\n        if (value1 === this._value1) return;\n\n        if (value1 < this.min) value1 = this.min;\n        if (value1 > this._value2) value1 = this._value2;\n\n        this._value1 = value1;\n\n        this.updateSlider1();\n\n        this.onUpdate?.emit(this.value1, this.value2);\n    }\n\n    /** Returns right value. */\n    get value2(): number\n    {\n        return this._value2;\n    }\n\n    /** Sets right value. */\n    set value2(value2: number)\n    {\n        if (value2 === this._value2) return;\n\n        if (value2 < this._value1) value2 = this._value1;\n        if (value2 > this.max) value2 = this.max;\n\n        this._value2 = value2;\n\n        this.updateSlider2();\n\n        this.onUpdate?.emit(this.value1, this.value2);\n    }\n\n    protected override update(event: FederatedPointerEvent)\n    {\n        super.update(event);\n\n        if (!this.dragging) return;\n\n        const obj = event.currentTarget as DragObject;\n        const { x } = obj.parent!.worldTransform.applyInverse(event.global);\n\n        const slider1Dist = this._slider1 ? Math.abs(x - this._slider1.x - this._slider1.width) : Infinity;\n        const slider2Dist = this._slider2 ? Math.abs(x - this._slider2.x) : Infinity;\n\n        if (!this.activeValue)\n        {\n            if (this.slider1 && x < this.slider1.x)\n            {\n                this.activeValue = 'value1';\n            }\n            else if (this.slider2 && x > this.slider2.x)\n            {\n                this.activeValue = 'value2';\n            }\n            else\n            {\n                this.activeValue = slider1Dist < slider2Dist ? 'value1' : 'value2';\n            }\n        }\n\n        const progress = this.validate((x / this.bg?.width) * 100);\n\n        if (this.activeValue === 'value1')\n        {\n            this.progressStart = progress;\n            this.value1 = this.min + (((this.max - this.min) / 100) * progress);\n            this.updateProgress(this.value1, this.value2);\n        }\n        else\n        {\n            this.progress = progress;\n            this.value2 = this.min + (((this.max - this.min) / 100) * progress);\n            this.updateProgress(this.value1, this.value2);\n        }\n    }\n\n    protected override endUpdate()\n    {\n        super.endUpdate();\n\n        this.activeValue = undefined;\n    }\n\n    protected override change()\n    {\n        this.onChange?.emit(this.value1, this.value2);\n    }\n\n    /**\n     * Set Slider1 instance.\n     * @param value - Container or string with texture name.\n     */\n    override set slider1(value: Container | Texture | string)\n    {\n        super.slider1 = value;\n        this.updateSlider1();\n    }\n\n    /** Get Slider1 instance. */\n    override get slider1(): Container | undefined\n    {\n        return this._slider1;\n    }\n\n    /**\n     * Sets Slider instance.\n     * @param value - Container or string with texture name.\n     */\n    override set slider2(value: Container | string)\n    {\n        super.slider2 = value;\n        this.updateSlider2();\n    }\n\n    /** Get Slider2 instance. */\n    override get slider2(): Container | undefined\n    {\n        return this._slider2;\n    }\n\n    protected updateSlider1()\n    {\n        if (!this._slider1) return;\n\n        this.updateProgress(this.value1, this.value2);\n\n        this._slider1.x = ((this.bg?.width ?? 0) / 100 * this.progressStart) - (this._slider1.width / 2);\n        this._slider1.y = (this.bg?.height ?? 0) / 2;\n\n        if (this._slider2 && this._slider1.x > this._slider2.x)\n        {\n            this._slider1.x = this._slider2.x;\n        }\n\n        if (this.sliderOptions?.showValue && this.value1Text && this._slider1)\n        {\n            this.value1Text.text = `${Math.round(this.value1)}`;\n\n            const sliderPosX = this._slider1.x + (this._slider1.width / 2);\n            const sliderPosY = this._slider1.y;\n\n            this.value1Text.x = sliderPosX + (this.sliderOptions.valueTextOffset?.x ?? 0);\n            this.value1Text.y = sliderPosY + (this.sliderOptions.valueTextOffset?.y ?? 0);\n        }\n    }\n\n    protected updateSlider2()\n    {\n        if (!this._slider2) return;\n\n        this.updateProgress(this.value1, this.value2);\n\n        this._slider2.x = ((this.bg?.width ?? 0) / 100 * this.progress) - (this._slider2.width / 2);\n        this._slider2.y = (this.bg?.height ?? 0) / 2;\n\n        if (this._slider1 && this._slider2.x < this._slider1.x)\n        {\n            this._slider2.x = this._slider1.x;\n        }\n\n        if (this.sliderOptions?.showValue && this.value2Text && this._slider2)\n        {\n            this.value2Text.text = `${Math.round(this.value2)}`;\n\n            const sliderPosX = this._slider2.x + (this._slider2.width / 2);\n            const sliderPosY = this._slider2.y;\n\n            this.value2Text.x = sliderPosX + (this.sliderOptions.valueTextOffset?.x ?? 0);\n            this.value2Text.y = sliderPosY + (this.sliderOptions.valueTextOffset?.y ?? 0);\n        }\n    }\n\n    /**\n     * Sets width of a Sliders background and fill.\n     * If nineSliceSprite is set, then width will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then width will control components width as Container.\n     * @param value - Width value.\n     */\n    override set width(value: number)\n    {\n        super.width = value;\n\n        this.updateSlider1();\n        this.updateSlider2();\n    }\n\n    /** Gets width of a Slider. */\n    override get width(): number\n    {\n        return super.width;\n    }\n\n    /**\n     * Sets height of a Sliders background and fill.\n     * If nineSliceSprite is set, then height will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then height will control components height as Container.\n     * @param value - Height value.\n     */\n    override set height(value: number)\n    {\n        super.height = value;\n\n        this.updateSlider1();\n        this.updateSlider2();\n    }\n\n    /** Gets height of a Slider. */\n    override get height(): number\n    {\n        return super.height;\n    }\n\n    override setSize(value: number | Optional<Size, 'height'>, height?: number): void\n    {\n        super.setSize(value, height);\n\n        this.updateSlider1();\n        this.updateSlider2();\n    }\n}\n","import {\n    Color,\n    Container,\n    DestroyOptions,\n    Graphics,\n    isMobile,\n    NineSliceSprite,\n    Optional,\n    Size,\n    Sprite,\n    Text,\n    Texture,\n    Ticker,\n} from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { PixiText, PixiTextClass, PixiTextStyle } from './utils/helpers/text';\nimport { getView } from './utils/helpers/view';\nimport { ALIGN, type Padding } from './utils/HelpTypes';\n\ntype ViewType = Sprite | Graphics | Texture | string;\n\nexport type InputAlign = typeof ALIGN[number];\n\nexport type InputOptions = {\n    bg: ViewType;\n    textStyle?: PixiTextStyle;\n    TextClass?: PixiTextClass;\n    placeholder?: string;\n    value?: string;\n    maxLength?: number;\n    secure?: boolean;\n    align?: InputAlign;\n    padding?: Padding;\n    cleanOnFocus?: boolean;\n    nineSliceSprite?: [number, number, number, number];\n    addMask?: boolean;\n};\n\nconst SECURE_CHARACTER = '*';\n\n/**\n * Container-based component that creates an input to read the user's text.\n * @example\n * new Input({\n *     bg: Sprite.from('input.png'),\n *     placeholder: 'Enter text',\n *     padding: {\n *      top: 11,\n *      right: 11,\n *      bottom: 11,\n *      left: 11\n *     } // alternatively you can use [11, 11, 11, 11] or [11, 11] or just 11\n * });\n */\nexport class Input extends Container\n{\n    protected _bg?: Container | NineSliceSprite | Graphics;\n    protected inputMask: Container | NineSliceSprite | Graphics | undefined;\n    protected _cursor: Sprite | undefined;\n    protected _value: string = '';\n    protected _secure: boolean = false;\n    protected inputField: PixiText | undefined;\n    protected placeholder: PixiText | undefined;\n    protected editing = false;\n    protected tick = 0;\n    protected lastInputData: string = '';\n\n    protected activation = false;\n    protected readonly options: InputOptions;\n    protected input: HTMLInputElement | undefined;\n\n    protected handleActivationBinding = this.handleActivation.bind(this);\n    protected onKeyUpBinding = this.onKeyUp.bind(this);\n    protected stopEditingBinding = this.stopEditing.bind(this);\n    protected onInputBinding = this.onInput.bind(this);\n    protected onPasteBinding = this.onPaste.bind(this);\n\n    /** Fires when input loses focus. */\n    onEnter: Signal<(text: string) => void>;\n\n    /** Fires every time input string is changed. */\n    onChange: Signal<(text: string) => void>;\n\n    /** Top side padding */\n    paddingTop = 0;\n\n    /** Right side padding */\n    paddingRight = 0;\n\n    /** Bottom side padding */\n    paddingBottom = 0;\n\n    /** Left side padding */\n    paddingLeft = 0;\n\n    /**\n     * Creates an input.\n     * @param { number } options - Options object to use.\n     * @param { Sprite | Graphics | Texture | string } options.bg - Background of the Input.\n     * <br> Can be a string (name of texture) or an instance of Texture, Sprite or Graphics.\n     * <br> If you want to use NineSliceSprite, you have to pass a text (name of texture)\n     * or an instance of Texture as a parameter.\n     * @param { PixiTextStyle } options.textStyle - Text style of the Input.\n     * @param { string } options.placeholder - Placeholder of the Input.\n     * @param { string } options.value - Value of the Input.\n     * @param { number } options.maxLength - Max length of the Input.\n     * @param { 'left' | 'center' | 'right' } options.align - Align of the Input.\n     * @param { Padding } options.padding - Padding of the Input.\n     * @param { number } options.padding.top - Top padding of the Input.\n     * @param { number } options.padding.right - Right padding of the Input.\n     * @param { number } options.padding.bottom - Bottom padding of the Input.\n     * @param { number } options.padding.left - Left padding of the Input.\n     * @param { boolean } options.cleanOnFocus - Clean Input on focus.\n     * @param { boolean } options.addMask - Add mask to the Input text, so it is cut off when it does not fit.\n     * @param { Array } options.nineSliceSprite - NineSliceSprite values for bg and fill ([number, number, number, number]).\n     * <br> <b>!!! IMPORTANT:</b> To make it work, you have to pass a texture name or texture instance as a bg parameter.\n     */\n    constructor(options: InputOptions)\n    {\n        super();\n\n        // Establish sensible defaults for all input options\n        // to avoid null checks throughout the component\n        const defaultOptions: InputOptions = {\n            bg: Texture.WHITE,\n            textStyle: {\n                fill: 0x000000,\n                align: 'center',\n            },\n            TextClass: Text,\n            placeholder: '',\n            value: '',\n            maxLength: undefined,\n            secure: false,\n            align: 'left',\n            padding: 0,\n            cleanOnFocus: false,\n            addMask: false,\n        };\n\n        this.options = { ...defaultOptions, ...options };\n\n        const { padding = 0, secure = false } = this.options;\n\n        this.padding = padding;\n        this._secure = secure;\n\n        this.cursor = 'text';\n        this.interactive = true;\n\n        this.on('pointertap', () =>\n        {\n            this.activation = true;\n            isMobile.any && this.handleActivation(); // handleActivation always call before this function called.\n        });\n\n        window.addEventListener(isMobile.any ? 'touchstart' : 'click', this.handleActivationBinding);\n\n        this.onEnter = new Signal();\n        this.onChange = new Signal();\n\n        Ticker.shared.add((ticker) => this.update(ticker.deltaTime));\n\n        if (options.bg)\n        {\n            this.bg = options.bg;\n        }\n        else\n        {\n            console.error('Input: bg is not defined, please define it.');\n        }\n    }\n\n    protected onInput(e: InputEvent)\n    {\n        this.lastInputData = e.data ?? '';\n    }\n\n    protected onKeyUp(e: KeyboardEvent)\n    {\n        const key = e.key;\n\n        const keysToSkip = [\n            'Shift', 'Control', 'Alt', 'Meta',\n            'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown',\n            'CapsLock', 'AltGraph', 'Tab', 'ContextMenu',\n            'F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9', 'F10', 'F11', 'F12',\n            'ScrollLock', 'Pause', 'Insert', 'Delete', 'Home',\n            'End', 'PageUp', 'PageDown', 'NumLock', 'Dead'\n        ];\n\n        if (keysToSkip.includes(key)) return;\n\n        if (e.metaKey) return;\n        if (e.ctrlKey) return;\n\n        if (key === 'Backspace')\n        {\n            this._delete();\n        }\n        else if (key === 'Escape' || key === 'Enter')\n        {\n            this.stopEditing();\n        }\n        else if (key.length === 1)\n        {\n            this._add(key);\n        }\n        else if (this.lastInputData && this.lastInputData.length === 1)\n        {\n            this._add(this.lastInputData);\n        }\n\n        if (this.input)\n        {\n            this.input.value = '';\n        }\n    }\n\n    protected init()\n    {\n        const {\n            textStyle = { fill: 0x000000, align: 'center' },\n            TextClass = Text,\n            placeholder = ''\n        } = this.options;\n\n        const colorSource = textStyle.fill && Color.isColorLike(textStyle.fill)\n            ? textStyle.fill\n            : 0x000000;\n\n        this.inputField = new TextClass({\n            text: '',\n            style: textStyle,\n        });\n\n        this._cursor = new Sprite(Texture.WHITE);\n\n        this._cursor.tint = colorSource;\n        this._cursor.anchor.set(0.5);\n        this._cursor.width = 2;\n        this._cursor.height = this.inputField.height * 0.8;\n        this._cursor.alpha = 0;\n\n        this.placeholder = new TextClass({\n            text: placeholder,\n            style: textStyle,\n        });\n        this.placeholder.visible = !!placeholder;\n\n        this.addChild(this.inputField, this.placeholder, this._cursor);\n\n        this.value = this.options.value ?? '';\n\n        this.align();\n    }\n\n    set bg(bg: ViewType)\n    {\n        if (this._bg)\n        {\n            this._bg.destroy();\n        }\n\n        // Use Texture.WHITE as fallback if bg is undefined\n        const bgValue = bg ?? Texture.WHITE;\n\n        if (this.options?.nineSliceSprite)\n        {\n            if (typeof bgValue === 'string')\n            {\n                this._bg = new NineSliceSprite({\n                    texture: Texture.from(bgValue),\n                    leftWidth: this.options.nineSliceSprite[0],\n                    topHeight: this.options.nineSliceSprite[1],\n                    rightWidth: this.options.nineSliceSprite[2],\n                    bottomHeight: this.options.nineSliceSprite[3],\n                });\n            }\n            else if (bgValue instanceof Texture)\n            {\n                this._bg = new NineSliceSprite({\n                    texture: bgValue,\n                    leftWidth: this.options.nineSliceSprite[0],\n                    topHeight: this.options.nineSliceSprite[1],\n                    rightWidth: this.options.nineSliceSprite[2],\n                    bottomHeight: this.options.nineSliceSprite[3],\n                });\n            }\n            else\n            {\n                console.warn(`NineSliceSprite can not be used with views set as Container.\n                    Pass the texture or texture name as instead of the Container extended instance.`);\n            }\n        }\n\n        if (!this._bg)\n        {\n            this._bg = getView(bgValue);\n        }\n\n        this._bg.cursor = 'text';\n        this._bg.interactive = true;\n\n        this.addChildAt(this._bg, 0);\n\n        if (!this.inputField)\n        {\n            this.init();\n        }\n\n        if (this.options.addMask)\n        {\n            this.createInputMask(bg);\n        }\n    }\n\n    get bg(): Container | NineSliceSprite | Graphics | undefined\n    {\n        return this._bg;\n    }\n\n    protected _add(key: string): void\n    {\n        if (!this.editing)\n        {\n            return;\n        }\n\n        if (this.options.maxLength && this.value.length >= this.options.maxLength)\n        {\n            return;\n        }\n\n        this.value = this.value + key;\n\n        this.onChange.emit(this.value);\n    }\n\n    protected _delete(): void\n    {\n        const length = this.value.length;\n\n        if (!this.editing || length === 0) return;\n\n        this.value = this.value.substring(0, length - 1);\n\n        this.onChange.emit(this.value);\n    }\n\n    protected _startEditing(): void\n    {\n        if (this.options.cleanOnFocus)\n        {\n            this.value = '';\n        }\n\n        this.tick = 0;\n        this.editing = true;\n        if (this.placeholder)\n        {\n            this.placeholder.visible = false;\n        }\n        if (this._cursor)\n        {\n            this._cursor.alpha = 1;\n        }\n\n        this.createInputField();\n\n        this.align();\n    }\n\n    protected createInputField()\n    {\n        if (this.input)\n        {\n            this.input.removeEventListener('blur', this.stopEditingBinding);\n            this.input.removeEventListener('keydown', this.onKeyUpBinding);\n            this.input.removeEventListener('input', this.onInputBinding as EventListener);\n            this.input.removeEventListener('paste', this.onPasteBinding);\n\n            this.input?.blur();\n            this.input?.remove();\n            this.input = undefined;\n        }\n\n        const input: HTMLInputElement = document.createElement('input');\n\n        document.body.appendChild(input);\n\n        input.style.position = 'fixed';\n        input.style.left = `${this.getGlobalPosition().x}px`;\n        input.style.top = `${this.getGlobalPosition().y}px`;\n        input.style.opacity = '0.0000001';\n        input.style.width = `${this._bg?.width ?? 100}px`;\n        input.style.height = `${this._bg?.height ?? 30}px`;\n        input.style.border = 'none';\n        input.style.outline = 'none';\n        input.style.background = 'white';\n\n        // This hack fixes instant hiding keyboard on mobile after showing it\n        if (isMobile.android.device)\n        {\n            setTimeout(() =>\n            {\n                input.focus();\n                input.click();\n            }, 100);\n        }\n        else\n        {\n            input.focus();\n            input.click();\n        }\n\n        input.addEventListener('blur', this.stopEditingBinding);\n        input.addEventListener('keydown', this.onKeyUpBinding);\n        input.addEventListener('input', this.onInputBinding as EventListener);\n        input.addEventListener('paste', this.onPasteBinding);\n\n        this.input = input;\n\n        this.align();\n    }\n\n    protected handleActivation()\n    {\n        if (this.editing) return;\n\n        this.stopEditing();\n\n        if (this.activation)\n        {\n            this._startEditing();\n\n            this.activation = false;\n        }\n    }\n\n    protected stopEditing(): void\n    {\n        if (!this.editing) return;\n\n        if (this._cursor)\n        {\n            this._cursor.alpha = 0;\n        }\n        this.editing = false;\n\n        if (this.placeholder && this.value.length === 0)\n        {\n            this.placeholder.visible = true;\n        }\n\n        this.input?.blur();\n        this.input?.remove();\n        this.input = undefined;\n\n        this.align();\n\n        this.onEnter.emit(this.value);\n    }\n\n    protected update(dt: number): void\n    {\n        if (!this.editing) return;\n        this.tick += dt * 0.1;\n        if (this._cursor)\n        {\n            this._cursor.alpha = Math.round((Math.sin(this.tick) * 0.5) + 0.5);\n        }\n    }\n\n    protected align()\n    {\n        if (!this._bg) return;\n\n        const align = this.getAlign();\n\n        if (this.inputField)\n        {\n            this.inputField.anchor.set(align, 0.5);\n            this.inputField.x\n                = (this._bg.width * align) + (align === 1 ? -this.paddingRight : this.paddingLeft);\n            this.inputField.y = (this._bg.height / 2) + this.paddingTop - this.paddingBottom;\n        }\n\n        if (this.placeholder)\n        {\n            this.placeholder.anchor.set(align, 0.5);\n            this.placeholder.x\n                = (this._bg.width * align) + (align === 1 ? -this.paddingRight : this.paddingLeft);\n            this.placeholder.y = this._bg.height / 2;\n        }\n\n        if (this._cursor && this.inputField)\n        {\n            this._cursor.x = this.getCursorPosX();\n            this._cursor.y = this.inputField.y;\n        }\n    }\n\n    protected getAlign(): 0 | 1 | 0.5\n    {\n        if (!(this._bg && this.inputField)) return 0;\n\n        const maxWidth = this._bg.width * 0.95;\n        const paddings = this.paddingLeft + this.paddingRight - 10;\n        const isOverflowed = this.inputField.width + paddings > maxWidth;\n\n        if (isOverflowed)\n        {\n            return this.editing ? 1 : 0;\n        }\n        switch (this.options.align)\n        {\n            case 'left':\n                return 0;\n            case 'center':\n                return 0.5;\n            case 'right':\n                return 1;\n            default:\n                return 0;\n        }\n    }\n\n    protected getCursorPosX()\n    {\n        if (!this.inputField) return 0;\n\n        const align = this.getAlign();\n\n        switch (align)\n        {\n            case 0:\n                return this.inputField.x + this.inputField.width;\n            case 0.5:\n                return this.inputField.x + (this.inputField.width * 0.5);\n            case 1:\n                return this.inputField.x;\n            default:\n                return 0;\n        }\n    }\n\n    /** Sets the input text. */\n    set value(text: string)\n    {\n        const textLength = text.length;\n\n        this._value = text;\n\n        if (this.inputField)\n        {\n            this.inputField.text = this.secure ? SECURE_CHARACTER.repeat(textLength) : text;\n        }\n\n        if (this.placeholder)\n        {\n            this.placeholder.visible = textLength === 0 && !this.editing;\n        }\n\n        this.align();\n    }\n\n    /** Return text of the input. */\n    get value(): string\n    {\n        return this._value;\n    }\n\n    set secure(val: boolean)\n    {\n        this._secure = val;\n\n        // Update text based on secure state (useful for show/hide password implementations)\n        this.value = this._value;\n    }\n\n    get secure(): boolean\n    {\n        return this._secure;\n    }\n\n    /**\n     * Set paddings\n     * @param value - number, array of 4 numbers or object with keys: top, right, bottom, left\n     * or: [top, right, bottom, left]\n     * or: [top&bottom, right&left]\n     * or: {\n     *  left: 10,\n     *  right: 10,\n     *  top: 10,\n     *  bottom: 10,\n     * }\n     */\n    set padding(value: Padding)\n    {\n        if (typeof value === 'number')\n        {\n            this.paddingTop = value;\n            this.paddingRight = value;\n            this.paddingBottom = value;\n            this.paddingLeft = value;\n        }\n\n        if (Array.isArray(value))\n        {\n            this.paddingTop = value[0] ?? 0;\n            this.paddingRight = value[1] ?? value[0] ?? 0;\n            this.paddingBottom = value[2] ?? value[0] ?? 0;\n            this.paddingLeft = value[3] ?? value[1] ?? value[0] ?? 0;\n        }\n        else if (typeof value === 'object')\n        {\n            this.paddingTop = value.top ?? 0;\n            this.paddingRight = value.right ?? 0;\n            this.paddingBottom = value.bottom ?? 0;\n            this.paddingLeft = value.left ?? 0;\n        }\n    }\n\n    // Return array of paddings [top, right, bottom, left]\n    get padding(): [number, number, number, number]\n    {\n        return [this.paddingTop, this.paddingRight, this.paddingBottom, this.paddingLeft];\n    }\n\n    override destroy(options?: DestroyOptions | boolean)\n    {\n        this.off('pointertap');\n\n        window.removeEventListener(isMobile.any ? 'touchstart' : 'click', this.handleActivationBinding);\n\n        super.destroy(options);\n    }\n\n    /**\n     * Sets width of a Input.\n     * If nineSliceSprite is set, then width will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then width will control components width as Container.\n     * @param width - Width value.\n     */\n    override set width(width: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._bg)\n            {\n                this._bg.width = width;\n            }\n\n            this.updateInputMaskSize();\n\n            this.align();\n        }\n        else\n        {\n            super.width = width;\n        }\n    }\n\n    /** Gets width of Input. */\n    override get width(): number\n    {\n        return super.width;\n    }\n\n    /**\n     * Sets height of a Input.\n     * If nineSliceSprite is set, then height will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then height will control components height as Container.\n     * @param height - Height value.\n     */\n    override set height(height: number)\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._bg)\n            {\n                this._bg.height = height;\n            }\n\n            this.updateInputMaskSize();\n\n            this.align();\n        }\n        else\n        {\n            super.height = height;\n        }\n    }\n\n    /** Gets height of Input. */\n    override get height(): number\n    {\n        return super.height;\n    }\n\n    override setSize(value: number | Optional<Size, 'height'>, height?: number): void\n    {\n        if (this.options?.nineSliceSprite)\n        {\n            if (this._bg)\n            {\n                this._bg.setSize(value, height);\n            }\n\n            this.updateInputMaskSize();\n            this.align();\n        }\n        else\n        {\n            super.setSize(value, height);\n        }\n    }\n\n    protected createInputMask(bg: ViewType)\n    {\n        if (this.inputMask)\n        {\n            if (this.inputField)\n            {\n                this.inputField.mask = null; // PixiJS API expects null\n            }\n            if (this._cursor)\n            {\n                this._cursor.mask = null; // PixiJS API expects null\n            }\n            this.inputMask.destroy();\n        }\n\n        if (this.options?.nineSliceSprite && typeof bg === 'string')\n        {\n            this.inputMask = new NineSliceSprite({\n                texture: Texture.from(bg),\n                leftWidth: this.options.nineSliceSprite[0],\n                topHeight: this.options.nineSliceSprite[1],\n                rightWidth: this.options.nineSliceSprite[2],\n                bottomHeight: this.options.nineSliceSprite[3],\n            });\n        }\n        else if (bg instanceof Sprite)\n        {\n            this.inputMask = new Sprite(bg.texture);\n        }\n        else if (bg instanceof Graphics)\n        {\n            this.inputMask = bg.clone(true);\n        }\n        else\n        {\n            this.inputMask = getView(bg);\n        }\n\n        if (this.inputField)\n        {\n            this.inputField.mask = this.inputMask;\n        }\n\n        if (this._cursor)\n        {\n            this._cursor.mask = this.inputMask;\n        }\n\n        this.updateInputMaskSize();\n\n        this.addChildAt(this.inputMask, 0);\n    }\n\n    protected updateInputMaskSize()\n    {\n        if (!this.inputMask || !this._bg) return;\n\n        this.inputMask.setSize(\n            this._bg.width - this.paddingLeft - this.paddingRight,\n            this._bg.height - this.paddingTop - this.paddingBottom,\n        );\n\n        this.inputMask.position.set(this.paddingLeft, this.paddingTop);\n    }\n\n    protected onPaste(e: ClipboardEvent)\n    {\n        e.preventDefault();\n\n        const text = (e.clipboardData || (window as any).clipboardData).getData('text');\n\n        if (!text) return;\n\n        this._add(text);\n    }\n}\n","import { Container, FillStyleInputs, Graphics, Sprite } from 'pixi.js';\nimport { getView } from './utils/helpers/view';\n\nexport type MaskedFrameOptions = {\n    target?: string | Container;\n    mask?: string | Graphics;\n    borderWidth?: number;\n    borderColor?: FillStyleInputs;\n};\n\n/**\n * Draws a border or apply a mask of any shape to a container.\n * @example\n * new MaskedFrame({\n *     target: `avatar.png`,\n *     mask: `avatar_mask.png`,\n *     borderWidth: 5,\n *     borderColor: 0xFFFFFF,\n * });\n */\nexport class MaskedFrame extends Container\n{\n    /** Target container. */\n    target: Container | undefined;\n    border = new Graphics();\n    protected _targetMask: Container | undefined;\n    protected maskData: string | Graphics | undefined;\n    protected borderWidth: number = 0;\n    protected borderColor: FillStyleInputs = 0x000000;\n\n    constructor(options?: MaskedFrameOptions)\n    {\n        super();\n\n        if (options?.target)\n        {\n            this.init(options);\n        }\n    }\n\n    /**\n     * Initializes a component.\n     * @param root0\n     * @param root0.target - Container to apply a mask or a border.\n     * @param root0.mask - Mask.\n     * @param root0.borderWidth - Border width.\n     * @param root0.borderColor - Border color.\n     */\n    init({ target, mask, borderWidth, borderColor }: MaskedFrameOptions)\n    {\n        if (this.target)\n        {\n            this.removeChild(this.target);\n        }\n\n        if (target)\n        {\n            this.target = getView(target);\n        }\n        this.addChild(this.border);\n        if (this.target)\n        {\n            this.addChild(this.target);\n        }\n\n        if (mask) this.applyMask(mask);\n        if (borderWidth) this.setBorder(borderWidth, borderColor ?? 0x000000);\n    }\n\n    /**\n     * Applies a mask to a target container.\n     * @param mask\n     */\n    applyMask(mask: string | Graphics)\n    {\n        this.maskData = mask;\n\n        this._targetMask = getView(mask);\n        this.addChild(this._targetMask);\n        if (this.target)\n        {\n            this.target.mask = this._targetMask;\n        }\n    }\n\n    /**\n     * Shows a border around the target Container, same shape as the mask.\n     * @param borderWidth\n     * @param borderColor\n     */\n    setBorder(borderWidth: number, borderColor: FillStyleInputs)\n    {\n        this.borderWidth = borderWidth;\n        this.borderColor = borderColor;\n\n        this.showBorder();\n\n        if (this.maskData && this._targetMask)\n        {\n            const borderMask\n                = typeof this.maskData === 'string'\n                    ? Sprite.from(this.maskData)\n                    : this.maskData.clone(true);\n\n            borderMask.width += borderWidth * 2;\n            borderMask.height += borderWidth * 2;\n\n            this.mask = borderMask;\n            this.addChild(borderMask);\n            this._targetMask.position.set(borderWidth);\n        }\n    }\n\n    /** Hides a border. */\n    showBorder()\n    {\n        if (!this.target) return;\n\n        const width = this.borderWidth * 2;\n\n        this.border\n            .clear()\n            .rect(0, 0, this.target.width + width, this.target.height + width)\n            .fill(this.borderColor);\n\n        this.target.x = this.borderWidth;\n        this.target.y = this.borderWidth;\n    }\n\n    /** Hides a border. */\n    hideBorder()\n    {\n        this.border.clear();\n    }\n}\n","import { Container } from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { CheckBox } from './CheckBox';\nimport { List, ListType } from './List';\n\nexport type RadioBoxOptions = {\n    items: CheckBox[];\n    type: ListType;\n    elementsMargin: number;\n    selectedItem?: number;\n};\n\n/**\n * Creates a container-based controlling wrapper for checkbox elements,\n * for them top behave as radio buttons.\n *\n * Only one checkbox/radio button can be selected at a time.\n *\n * List of items is passed as an array of {@link CheckBox} objects.\n * @example\n * new RadioGroup({\n *     items: [\n *          new CheckBox({\n *              style: {\n *                  unchecked: `switch_off.png`,\n *                  checked: `switch_on.png`,\n *              }\n *          }),\n *         new CheckBox({\n *              style: {\n *                  unchecked: `switch_off.png`,\n *                  checked: `switch_on.png`,\n *              }\n *          }),\n *          new CheckBox({\n *              style: {\n *                  unchecked: `switch_off.png`,\n *                  checked: `switch_on.png`,\n *              }\n *          }),\n *     ],\n *     type: 'vertical'\n * });\n */\nexport class RadioGroup extends Container\n{\n    protected items: CheckBox[] = [];\n\n    /** {@link List}, that holds and control all inned checkboxes.  */\n    innerView: List | undefined;\n\n    /** Text value of the selected item. */\n    value: string = '';\n\n    /** ID of the selected item. */\n    selected: number = 0;\n\n    /** Fires, when new item is selected. */\n    onChange: Signal<(selectedItemID: number, selectedVal: string) => void>;\n\n    protected options: RadioBoxOptions;\n\n    constructor(options?: RadioBoxOptions)\n    {\n        super();\n\n        const defaultOptions: RadioBoxOptions = {\n            items: [],\n            type: 'vertical',\n            elementsMargin: 0,\n            selectedItem: 0,\n        };\n\n        this.options = { ...defaultOptions, ...options };\n        this.onChange = new Signal();\n\n        this.init(this.options);\n    }\n\n    /**\n     * Initiates a group.\n     * @param options\n     */\n    init(options: RadioBoxOptions)\n    {\n        this.options = options;\n\n        this.selected = options.selectedItem ?? 0; // first item by default\n        this.value = options.items[this.selected]?.labelText?.text ?? '';\n\n        if (this.innerView)\n        {\n            this.innerView.type = options.type;\n            this.innerView.elementsMargin = options.elementsMargin;\n        }\n        else\n        {\n            this.innerView = new List({\n                type: options.type,\n                elementsMargin: options.elementsMargin,\n            });\n        }\n\n        this.addItems(options.items);\n\n        this.addChild(this.innerView);\n\n        this.selectItem(this.selected);\n    }\n\n    /**\n     * Add items to a group.\n     * @param {CheckBox[]} items - array of {@link CheckBox} instances.\n     */\n    addItems(items: CheckBox[])\n    {\n        items.forEach((checkBox, id) =>\n        {\n            checkBox.onChange.connect(() => this.selectItem(id));\n\n            this.items.push(checkBox);\n\n            this.innerView?.addChild(checkBox);\n        });\n    }\n\n    /**\n     * Remove items from a group.\n     * @param ids\n     */\n    removeItems(ids: number[])\n    {\n        ids.forEach((id) =>\n        {\n            const item = this.items[id];\n\n            if (!item) return;\n\n            item.onChange.disconnectAll();\n\n            this.innerView?.removeChild(item);\n\n            this.items.splice(id, 1);\n        });\n    }\n\n    /**\n     * Select item by ID.\n     * @param id\n     */\n    selectItem(id: number)\n    {\n        this.items.forEach((item, key) =>\n        {\n            item.forceCheck(key === id);\n        });\n\n        if (this.selected !== id)\n        {\n            this.onChange.emit(id, this.items[id].labelText?.text ?? '');\n        }\n\n        this.value = this.options.items[id].labelText?.text ?? '';\n        this.selected = id;\n    }\n}\n","import { Container, FillStyleInputs, Graphics, Text } from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { FancyButton } from './FancyButton';\nimport { ScrollBox, ScrollBoxOptions } from './ScrollBox';\nimport { PixiTextClass, PixiTextStyle } from './utils/helpers/text';\nimport { getView, type GetViewSettings } from './utils/helpers/view';\n\nconst defaultVisibleItems = 5;\n\ntype Offset = {\n    y: number;\n    x: number;\n};\n\nexport type SelectItemsOptions = {\n    items: string[];\n    backgroundColor: FillStyleInputs;\n    width: number;\n    height: number;\n    hoverColor?: FillStyleInputs;\n    textStyle?: PixiTextStyle;\n    TextClass?: PixiTextClass;\n    radius?: number;\n};\n\nexport type SelectOptions = {\n    closedBG: GetViewSettings;\n    openBG: GetViewSettings;\n    textStyle?: PixiTextStyle;\n    TextClass?: PixiTextClass;\n    selected?: number;\n    selectedTextOffset?: { x?: number; y?: number };\n\n    items: SelectItemsOptions;\n\n    scrollBoxOffset?: { x?: number; y?: number };\n    scrollBoxWidth?: number;\n    scrollBoxHeight?: number;\n    scrollBoxRadius?: number;\n\n    visibleItems?: number;\n\n    scrollBox?: ScrollBoxOptions & {\n        offset?: Offset;\n    };\n};\n\n/**\n * Container-based component that gives us a selection dropdown.\n *\n * It is a composition of a {@link Button} and a {@link ScrollBox}.\n * @example\n * new Select({\n *     closedBG: `select_closed.png`,\n *     openBG: `select_open.png`,\n *     textStyle: { fill: 0xffffff, fontSize: 20 },\n *     items: {\n *         items,\n *         backgroundColor: 0x000000,\n *         hoverColor: 0x000000,\n *         width: 200,\n *         height: 50,\n *     },\n *     scrollBox: {\n *         width: 200,\n *         height: 350,\n *         radius: 30,\n *     },\n * });\n */\n\nexport class Select extends Container\n{\n    protected view: Container = new Container();\n    protected openButton!: FancyButton;\n    protected closeButton!: FancyButton;\n    protected openView!: Container;\n    protected scrollBox: ScrollBox | undefined;\n\n    /** Selected value ID. */\n    value: number = -1;\n\n    /** Fires when selected value is changed. */\n    onSelect: Signal<(value: number, text: string) => void>;\n\n    constructor(options?: SelectOptions)\n    {\n        super();\n\n        this.addChild(this.view);\n        this.onSelect = new Signal();\n\n        if (options)\n        {\n            this.init(options);\n        }\n    }\n\n    /**\n     * Initiates Select.\n     * @param root0\n     * @param root0.closedBG\n     * @param root0.textStyle\n     * @param root0.items\n     * @param root0.openBG\n     * @param root0.selected\n     * @param root0.selectedTextOffset\n     * @param root0.scrollBox\n     * @param root0.visibleItems\n     * @param root0.TextClass\n     */\n    init({\n        closedBG,\n        textStyle,\n        TextClass,\n        items,\n        openBG,\n        selected,\n        selectedTextOffset,\n        scrollBox,\n        visibleItems,\n    }: SelectOptions)\n    {\n        TextClass = TextClass ?? Text;\n        if (this.openView && this.openView !== openBG)\n        {\n            this.view.removeChild(this.openView);\n        }\n\n        // openButton\n        if (!this.openButton)\n        {\n            this.openButton = new FancyButton({\n                defaultView: closedBG,\n                text: new TextClass({\n                    text: items?.items ? items.items[0] : '',\n                    style: textStyle,\n                }),\n                textOffset: selectedTextOffset,\n            });\n            this.openButton.onPress.connect(() => this.toggle());\n            this.addChild(this.openButton);\n        }\n        else\n        {\n            this.openButton.defaultView = getView(closedBG);\n            this.openButton.textView = new TextClass({\n                text: items?.items ? items.items[0] : '',\n                style: textStyle,\n            });\n\n            this.openButton.textOffset = selectedTextOffset ?? {};\n        }\n\n        // openView\n        if (this.openView !== openBG)\n        {\n            this.openView = getView(openBG);\n            this.view.visible = false;\n            this.view.addChild(this.openView);\n        }\n\n        // closeButton\n        if (!this.closeButton)\n        {\n            this.closeButton = new FancyButton({\n                defaultView: new Graphics()\n                    .rect(0, 0, this.openButton.width, this.openButton.height)\n                    .fill({ color: 0x000000, alpha: 0.00001 }),\n                text: new TextClass({\n                    text: items?.items ? items.items[0] : '',\n                    style: textStyle,\n                }),\n                textOffset: selectedTextOffset,\n            });\n            this.closeButton.onPress.connect(() => this.toggle());\n            this.view.addChild(this.closeButton);\n        }\n        else\n        {\n            this.closeButton.defaultView = new Graphics()\n                .rect(0, 0, this.openButton.width, this.openButton.height)\n                .fill({ color: 0x000000, alpha: 0.00001 });\n\n            this.closeButton.textView = new TextClass({\n                text: items?.items ? items.items[0] : '',\n                style: textStyle,\n            });\n\n            this.openButton.textOffset = selectedTextOffset ?? {};\n        }\n\n        // ScrollBox\n        if (!this.scrollBox)\n        {\n            this.scrollBox = new ScrollBox();\n\n            this.view.addChild(this.scrollBox);\n        }\n        else\n        {\n            this.scrollBox.removeItems();\n        }\n\n        this.scrollBox.init({\n            type: 'vertical',\n            elementsMargin: 0,\n            width: this.openButton.width,\n            height: this.openButton.height * (visibleItems ?? defaultVisibleItems),\n            radius: 0,\n            padding: 0,\n            ...scrollBox,\n        });\n\n        this.scrollBox.y = this.openButton.height;\n\n        if (scrollBox?.offset)\n        {\n            this.scrollBox.x = scrollBox.offset.x ?? 0;\n            this.scrollBox.y += scrollBox.offset.y ?? 0;\n        }\n\n        this.addItems(items, selected);\n    }\n\n    /**\n     * Adds items to the dropdown.\n     * @param items\n     * @param selected\n     */\n    addItems(items: SelectItemsOptions, selected = 0)\n    {\n        this.convertItemsToButtons(items).forEach((button, id) =>\n        {\n            const text = button.text;\n\n            if (id === selected)\n            {\n                this.openButton.text = text ?? '';\n                this.closeButton.text = text ?? '';\n            }\n\n            button.onPress.connect(() =>\n            {\n                this.value = id;\n                this.onSelect.emit(id, text ?? '');\n                this.openButton.text = text ?? '';\n                this.closeButton.text = text ?? '';\n                this.close();\n            });\n\n            this.scrollBox?.addItem(button);\n        });\n    }\n\n    /**\n     * Remove items from the dropdown.\n     * @param itemID - Item to remove (starting from 0).\n     */\n    removeItem(itemID: number)\n    {\n        if (!this.scrollBox) return;\n\n        this.scrollBox.removeItem(itemID);\n    }\n\n    /** Toggle the select state (open if closed, closes - id open). */\n    toggle()\n    {\n        this.view.visible = !this.view.visible;\n        this.openButton.visible = !this.openButton.visible;\n    }\n\n    /** Show dropdown. */\n    open()\n    {\n        this.view.visible = true;\n        this.openButton.visible = false;\n    }\n\n    /** Hide dropdown. */\n    close()\n    {\n        this.view.visible = false;\n        this.openButton.visible = true;\n    }\n\n    protected convertItemsToButtons({\n        items,\n        backgroundColor,\n        hoverColor,\n        width,\n        height,\n        textStyle,\n        TextClass,\n        radius,\n    }: SelectItemsOptions): FancyButton[]\n    {\n        TextClass = TextClass ?? Text;\n        const buttons: FancyButton[] = [];\n\n        items.forEach((item) =>\n        {\n            const defaultView = new Graphics()\n                .roundRect(0, 0, width, height, radius)\n                .fill(backgroundColor);\n\n            const color = hoverColor ?? backgroundColor;\n            const hoverView = new Graphics().roundRect(0, 0, width, height, radius).fill(color);\n\n            const text = new TextClass({ text: item, style: textStyle });\n\n            const button = new FancyButton({ defaultView, hoverView, text });\n\n            buttons.push(button);\n        });\n\n        return buttons;\n    }\n}\n","import { Container, FederatedPointerEvent, Optional, Size } from 'pixi.js';\nimport { Signal } from 'typed-signals';\nimport { BaseSliderOptions, SliderBase } from './SliderBase';\n\nimport type { DragObject } from './utils/HelpTypes';\n\nexport type SliderOptions = BaseSliderOptions & {\n    slider: Container | string;\n    step?: number;\n    value?: number;\n};\n\n/**\n * Creates a slider to select a single value.\n * @example\n * new Slider({\n *     bg: 'slider_bg.png',\n *     fill: 'slider.png',\n *     slider: 'slider.png',\n *     min: 0,\n *     max: 100,\n *     value: 50,\n * });\n *\n * singleSlider.onChange.connect((value) => {\n *     console.log(`Slider changed to ${value}`);\n * });\n */\nexport class Slider extends SliderBase\n{\n    protected sliderOptions: SliderOptions;\n\n    /** Fires when value is changing, on every move of slider. */\n    onUpdate: Signal<(value: number) => void> = new Signal();\n\n    /** Fires when value changed, only when slider is released. */\n    onChange: Signal<(value: number) => void> = new Signal();\n\n    constructor(options: SliderOptions)\n    {\n        super({\n            slider1: options.slider,\n            value1: options.value,\n            ...options,\n        });\n\n        this.sliderOptions = options;\n\n        // Avoid zero value\n        this.step = options.step || 1;\n\n        this.value = options.value ?? this.min;\n        this.updateSlider();\n    }\n\n    /** Return selected value. */\n    get value(): number\n    {\n        return this._value1;\n    }\n\n    /** Set selected value. */\n    set value(value: number)\n    {\n        if (value === this._value1) return;\n\n        if (value < this.min) value = this.min;\n        if (value > this.max) value = this.max;\n\n        this._value1 = value;\n\n        this.updateSlider();\n\n        this.onUpdate?.emit(this.value);\n    }\n\n    override set max(value: number)\n    {\n        super.max = value;\n        this.updateSlider();\n    }\n\n    override get max(): number\n    {\n        return super.max;\n    }\n\n    override set min(value: number)\n    {\n        super.min = value;\n        this.updateSlider();\n    }\n\n    override get min(): number\n    {\n        return super.min;\n    }\n\n    override set step(value: number)\n    {\n        super.step = value;\n        this.updateSlider();\n    }\n\n    override get step(): number\n    {\n        return super.step;\n    }\n\n    /** Set slider instance ot texture. */\n    // eslint-disable-next-line accessor-pairs\n    set slider(value: Container | string)\n    {\n        this.slider1 = value;\n        this.updateSlider();\n    }\n\n    protected override update(event: FederatedPointerEvent)\n    {\n        super.update(event);\n\n        if (!this.dragging) return;\n\n        const obj = event.currentTarget as DragObject;\n        const { x } = obj.parent!.worldTransform.applyInverse(event.global);\n        const positionRatio = x / (this.bg?.width || 1);\n        const rawValue = this.min + (positionRatio * (this.max - this.min));\n\n        // Snap the raw value to the nearest step\n        this.value = Math.round(rawValue / this.step) * this.step;\n    }\n\n    protected override change()\n    {\n        this.onChange?.emit(this.value);\n    }\n\n    protected updateSlider()\n    {\n        if (!this._slider1) return;\n\n        this.progress = (((this.value ?? this.min) - this.min) / (this.max - this.min)) * 100;\n\n        this._slider1.x = ((this.bg?.width ?? 0) / 100 * this.progress) - (this._slider1.width / 2);\n        this._slider1.y = (this.bg?.height ?? 0) / 2;\n\n        if (this.sliderOptions?.showValue && this.value1Text)\n        {\n            this.value1Text.text = `${Math.round(this.value)}`;\n\n            const sliderPosX = this._slider1.x + (this._slider1.width / 2);\n            const sliderPosY = this._slider1.y;\n\n            this.value1Text.x = sliderPosX + (this.sliderOptions.valueTextOffset?.x ?? 0);\n            this.value1Text.y = sliderPosY + (this.sliderOptions.valueTextOffset?.y ?? 0);\n        }\n    }\n\n    /**\n     * Sets width of a Sliders background and fill.\n     * If nineSliceSprite is set, then width will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then width will control components width as Container.\n     * @param value - Width value.\n     */\n    override set width(value: number)\n    {\n        super.width = value;\n\n        this.updateSlider();\n    }\n\n    /** Gets width of a Slider. */\n    override get width(): number\n    {\n        return super.width;\n    }\n\n    /**\n     * Sets height of a Sliders background and fill.\n     * If nineSliceSprite is set, then height will be set to nineSliceSprite.\n     * If nineSliceSprite is not set, then height will control components height as Container.\n     * @param value - Height value.\n     */\n    override set height(value: number)\n    {\n        super.height = value;\n\n        this.updateSlider();\n    }\n\n    /** Gets height of a Slider. */\n    override get height(): number\n    {\n        return super.height;\n    }\n\n    override setSize(value: number | Optional<Size, 'height'>, height?: number): void\n    {\n        super.setSize(value, height);\n        this.updateSlider();\n    }\n}\n"],"names":["ButtonEvents","__publicField","Signal","view","isMobile","e","_e","Button","enabled","_a","ButtonContainer","Container","getView","Sprite","Texture","Switcher","views","triggerEvents","activeViewID","event","stateView","viewInstance","id","exID","res","cleanup","element","o","d","l","s","n","CheckBox","options","_b","_c","Text","text","style","wasChecked","unchecked","checked","uncheckedView","checkedView","_d","_f","CircularProgressBar","Graphics","backgroundColor","lineWidth","radius","backgroundAlpha","alpha","value","fillColor","fillAlpha","cap","startAngle","endAngle","DEG_TO_RAD","fitToView","parent","child","padding","uniformScaling","scaleX","scaleY","maxWidth","maxHeight","widthOverflow","heightOverflow","scale","ratio","getTextView","j","B","p","V","FancyButton","defaultView","hoverView","pressedView","disabledView","offset","textOffset","iconOffset","textScale","iconScale","textAnchor","iconAnchor","anchor","anchorX","anchorY","icon","animations","ObservablePoint","Ticker","Group","newState","force","currentView","activeView","x","y","state","stateOffset","defaultStateOffset","_g","_h","availableWidth","availableHeight","targetScaleX","targetScaleY","width","height","Rectangle","mode","viewType","NineSliceSprite","textView","stateAnimation","data","Tween","_i","_j","_k","_l","_m","_n","_o","_p","_q","defaultStateAnimation","isNumber","P","u","r","t","h","List","item","type","margin","elementsMargin","itemID","Spring","_","ScrollSpring","speed","pos","to","diff","toDirection","currentDirection","SlidingNumber","newPosition","instant","max","i","Trackpad","Point","w","minX","maxX","minY","maxY","H","g","ScrollBox","items","isVisible","list","posY","posX","background","listTouchPoint","touchPoint","dragTrashHold","xDist","yDist","interactive","_r","color","shiftScroll","scrollOnX","scrollOnY","delta","targetPos","min","elementID","target","out","index","inRange","wasInRange","Dialog","__spreadValues","__spreadProps","backdropSprite","nineSliceSprite","yOffset","btn","button","openAnimation","duration","closeAnimation","ProgressBar","defaultOptions","m","bg","fill","fillPaddings","progress","PixiNineSliceSprite","fillPadding","offsetX","offsetY","leftWidth","rightWidth","topHeight","bottomHeight","texture","leftPadding","rightPadding","topPadding","bottomPadding","SliderBase","progressBarOptions","TextClass","sliderData","slider","onPointerDown","container","obj","_event","DoubleSlider","value1","value2","slider1Dist","slider2Dist","sliderPosX","sliderPosY","E","v","T","I","c","SECURE_CHARACTER","Input","secure","ticker","key","textStyle","placeholder","colorSource","Color","bgValue","length","input","dt","align","paddings","textLength","val","MaskedFrame","mask","borderWidth","borderColor","borderMask","a","RadioGroup","checkBox","ids","F","O","defaultVisibleItems","Select","closedBG","openBG","selected","selectedTextOffset","scrollBox","visibleItems","hoverColor","buttons","Slider","positionRatio","rawValue"],"mappings":"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"}